{"version":3,"sources":["utils/getVariance.js","components/dashboard/kpis/globalData.js","components/dashboard/kpis/yearlyComparison.js","actions/axiosConfig.js","utils/types.js","actions/config.js","utils/graphHelper.js","data/authentication.js","data/home.js","data/shared.js","data/graph.js","utils/getYearIndex.js","data/product.js","utils/store.js","utils/configureStore.js","utils/map_filter_type_display.js","actions/loadGraphData.js","actions/home.js","components/dashboard/dialogs/RecommendedProducts.js","actions/authentication/login.js","Navbar.js","components/dashboard/assortmentHelper/timeRangeSelector.js","actions/graph.js","utils/datumForTime.js","utils/getTimeRange.js","utils/getCurrentWeek.js","utils/alertList.js","utils/assortmentName.js","components/dashboard/dialogs/AssortmentDetailsDialog.js","components/shared/icons/checkbox_unchecked.js","components/shared/icons/checkbox_checked.js","components/dashboard/assortmentHelper/toggleAlert.js","utils/getTimeLineHelper.js","components/dashboard/graph/Timeline.js","components/shared/confirmBox.js","components/dashboard/dialogs/GraphDetailsDialog.js","components/dashboard/graph/kpiSelector.js","actions/kpiHandler.js","components/dashboard/dialogs/AssortmentBrowser.js","components/dashboard/assortmentHandler.js","components/dashboard/assortmentHelper/csvGenerator.js","components/dashboard/graph/graphLine.js","components/dashboard/kpis/timedData.js","components/dashboard/kpis/pduData.js","components/dashboard/assortmentHelper/localstorageHelper.js","components/dashboard/AssortmentList.js","components/dashboard/Dashboard.js","components/login/Login.js","components/route.js","components/shared/flash.js","components/shared/loader.js","App.js","serviceWorker.js","index.js"],"names":["getVariance","val1","val2","FirstNumber","Number","SecondNumber","displayVariance","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","varianceClass","displayABSVariance","Math","abs","varianceExceedsThreshhold","GlobalData","product","this","props","products","graph","selectedProductId","graphDomain","slice","isProductAvailable","className","Typography","variant","Tooltip","title","HRNumbers","toHumanString","Component","connect","state","_ownProps","YearlyComparison","demand_units_ly","demand_units_ytd","name","demand","sellout","final","sell_out_units_ly","sell_out_units_ytd","toString","barSize","width","height","data","sellOutData","margin","top","right","left","bottom","vertical","mirror","orientation","fontSize","dy","tickFormatter","val","tickLine","isAnimationActive","dataKey","fill","stackId","x","y","String","position","formatter","demandData","startRequest","dispatch","type","payload","endRequest","HOST","GraphHelper","stroke","strokeWidth","sell_out_units_ytg","sell_out_units_sas","sell_out_units_scatter","demand_units_sas","demand_units_ytg","demand_units_scatter","shipments","URLS","url","last_year","helper","parse","INITIAL_STATE","loggedIn","assortmentDialogOpen","merchDetails","regionDetails","randomNumber","floor","random","processMerch","hierarchy","Brand","filter","br","Object","keys","map","brand","brandNodeId","id","values","nodeId","displayName","uniqueId","Consumer","consumer","consumerNodeId","breadcrumb","Category","category","categoryNodeId","processRegionData","region","regions","regionNodeId","affiliate","affiliates","affiliateData","affiliateNodeId","affiliate_code","channels","channel","channelNodeId","planning_groups","planning_group","planningGroupNodeId","planning_group_name","flash","alertOpen","alertMessage","severity","confirmBoxData","open","subject","body","showLoader","kpis","sell_out_units","selected","style","color","color1","color2","demand_units","shipment","showAlert","filterPeriod","savedProducts","currentDate","moment","calendarData","minDate","date","maxDate","max","subtract","startOf","min","endOf","getFirstMonth","month","entries","find","calendar","index","getWeekMappingByMonth","format","getSecondMonth","iteratableCalendarData","lastIndex","lastIndexOf","getLastWeekMappingByMonth","add","getNewGraphDomain","startYear","quarter","clone","getSeasonRange","year","gotoPreviousDate","gotoNextDate","processCalendarData","KPI","forEach","kpi","fisc_week","fiscal_month","fisc_month","fiscal_year","GetYearIndex","isSame","GetMonthIndex","showVariables","showProductAlert","activeTooltipIndex","getType","predicted","pushIntoData","dataSet","newState","graphKey","currentValue","granularity","getValue","g_index","getIndex","push","parseInt","processData","total","presetValue","length","addDataForGraph","sort","a","b","selectProduct","product_id","showAssortData","deepmerge","all","setProductVariableProduct","hideProduct","hideAssortData","updateVariableData","productDatum","combineReducers","auth","home","Hierarchy","productsClone","prevDate","nextDate","removeProductData","removeProductDataIndex","findIndex","splice","shared","message","newProduct","weekly_data","2019","2020","detail","initProductData","newData","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","rootReducer","store","createStore","applyMiddleware","ReduxThunk","persistor","persistStore","getGranularity","MAP_FILTER_TYPE_DISPLAY","getState","getDataKey","addProduct","JSON","stringify","assortment","locationDisplayName","getUpdatedDataForProduct","subscribeChanges","watchFilterPeriod","watch","subscribe","newVal","oldVal","objectPath","getUpdatedData","getData","initialYear","endYear","getDataForProduct","value","includes","axios","get","params","time_granularity","then","response","getMerchData","locationData","getRegionData","getCalendarData","showFlashMessage","showAssortBrowser","RecommendedProducts","handleOnMerchSelection","productsList","locations","merchs","visible","prList","locationsName","pr","savedDisplayName","setState","onClick","src","alt","location","merch","AUTH","Navbar","to","logOutUser","TimeRangeSelector","FormControl","Select","labelId","onChange","event","newFilterPeriod","updateFilterPeriod","MenuItem","datumForTime","dataKPI","productDataForTime","datum","getYear","getFiscalNumber","fiscal","getTimeRange","getFirstQuarterName","getSecondQuarterName","fisc_month_name","getCurrentWeek","alertList","assortmentNameJSON","assortmentName","productName","AssortmentDetailsDialog","time","Error","notification","getPointName","getSellOutAlertText","getDemandAlertText","hideAssortmentAlerts","selectedAssortment","Dialog","aria-labelledby","maxWidth","DialogTitle","IconButton","size","handleClose","Close","DialogContent","assortmentNotifications","CheckBoxUnchecked","viewBox","xmlns","rx","CheckBoxChecked","fillRule","clipRule","d","x1","y1","x2","y2","gradientUnits","stopColor","offset","ToggleAlert","FormControlLabel","control","Checkbox","checked","toggleAlert","icon","checkedIcon","label","getWeekName","weekData","monthData","withYear","term","showYear","getProductYear","getSeasonName","getQuarterName","getSecondAxisNameWithYear","getMonthName","fiscalWeek","momentWeek","fiscalData","weekMapping","Timeline","customizedTick","transform","textAnchor","customizedWeekTick","dataMax","dataMin","theme","now","domain","getMinWeek","getMaxWeek","tickCount","getTickCount","hide","dx","tick","tickData","tickSize","horizontal","colorRef","ConfirmBox","hideConfirmBox","onSave","onCancel","aria-describedby","DialogContentText","DialogActions","Button","handleCancel","autoFocus","CustomizedLabel","console","log","font-size","class","text-anchor","GraphDetailsDialog","colors","oldProps","selloutData","showConfirmBox","hideAssortmentVariables","formattedValue","fisc_year","getPieData","colorList","variable_importance","varKey","setColors","colorHash","randomColor","selectedAssortmentKey","getDemandPieData","var_imp","content","getSellOutPieData","colorKey","background","getHistoricalLabel","readOnly","isHistorical","onValueChange","updateSellout","allowNegative","thousandSeparator","updateDemand","handleSave","productKey","post","selected_merchandise_combination","override_value","adjusted_demand","sell_out","user","selected_period","KPISelector","graph_kpis","Grid","container","spacing","kpiData","toggleKPI","AssortmentBrowser","handleChange","nodes","expanded","handleOnSelection","node","regionJson","step","productResult","productBreadcrumb","stopPropagation","treeViewLabel","edge","aria-label","e","CheckBox","treeViewMerchLabel","consumerVal","getObjects","obj","objects","i","hasOwnProperty","concat","toLocaleLowerCase","handleProductBreadCrumbChange","findProductCategories","SearchObject","target","findProducts","gotoSelectedProductBreadCrumb","document","querySelector","scrollIntoView","result","onClose","classes","Input","disableUnderline","placeholder","inputTypeSearch","List","component","disablePadding","r_index","ListItem","nested","ListItemText","primary","ListItemSecondaryAction","TreeView","cat_root","defaultCollapseIcon","defaultExpandIcon","AddCircle","onNodeToggle","b_index","TreeItem","p_index","sc_index","pr_index","brandVal","categoryVal","AssortmentHandler","hideAssortBrowser","CSVGenerator","pr1","pr2","done","finalData","sell_out_units_ly_var","sell_out_units_sas_var","demand_units_ly_var","demand_units_sas_var","showKPIName","splitData","getKPI","asyncOnClick","setData","filename","GraphLine","handleAssortmentChartClick","assortmentKey","showAssortmentVariables","CustomTooltip","active","displayTimeName","addData","chartTheme","paddingV","paddingH","Date","setDate","setHours","currentTestStartOfMonthDate","getTime","html","removeAssortment","showAssortmentAlerts","metric1","metric2","finalMonth","Radio","handleSelectedProductChange","inputProps","disableRipple","handleAssortmentDetailClick","addAssortmentInformation","allowDataOverflow","param","padding","getGraphValue","dot","strokeDasharray","TimedData","sum","barGap","demand_value","PDUData","LocalstorageHelper","element","createElement","file","Blob","localStorage","getItem","href","URL","createObjectURL","download","appendChild","click","setItem","window","reload","fileReader","FileReader","onloadend","handleFileRead","readAsText","downloadLocalStorage","htmlFor","handleFileChosen","files","AssortmentList","UpdatedDemandDot","cx","cy","demand_original","version","UpdatedSupplyDot","supply","supply_original","InformationDot","checkNewSupply","graphDialogOpen","selectedGraphIndex","detailsDialogOpen","color3","color4","loadData","htmlColor","gotoCurrentDate","Promise","resolve","Dashboard","Login","email","pwd","AuthenticateUser","onSubmit","login","onKeyPress","which","onInput","Router","path","exact","from","FlashMessage","Snackbar","autoHideDuration","hideFlashMessage","elevation","action","CloseRounded","Loader","classList","remove","hideLoader","App","createMuiTheme","typography","fontFamily","join","h1","fontWeight","lineHeight","h2","h3","h4","ThemeProvider","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.abbe3bc0.chunk.js","sourcesContent":["import ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport React from \"react\"\n\nconst VARIANCE_THRESHHOLD = 10\n\nexport const getVariance = (val1, val2) => {\n  const FirstNumber = Number(val1)\n  const SecondNumber = Number(val2)\n  if(FirstNumber && SecondNumber) {\n    return ((1 - (SecondNumber / FirstNumber)) * 100)\n  } else {\n    return 0\n  }\n}\n\nexport const displayVariance = (val1, val2) => {\n  return getVariance(val1, val2).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n}\n\nexport const varianceClass = (val1, val2) => {\n  return displayVariance(val1, val2) >= 0 ? 'positive-val' : 'negative-val'\n}\n\nexport const varianceArrow = (val1, val2) => {\n  if (displayVariance(val1, val2) >= 0) {\n    return <ArrowDropUpIcon style={{ fontSize: 40, color: 'green' }} />\n  } else {\n    return <ArrowDropDownIcon style={{ fontSize: 40, color: 'red' }} />\n  }\n}\n\nexport const displayABSVariance = (val1, val2) => {\n  return Math.abs(getVariance(val1, val2)).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n}\n\nexport const varianceExceedsThreshhold = (val1, val2) => {\n  return Math.abs(getVariance(val1, val2)) > VARIANCE_THRESHHOLD\n}\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Typography, Tooltip } from \"@material-ui/core\"\nimport HRNumbers from 'human-readable-numbers'\nimport { displayABSVariance, varianceClass } from 'utils/getVariance'\n\nclass GlobalData extends Component {\n  render() {\n\n    const product = (this.props.product && this.props.product.products[this.props.graph.selectedProductId]) ? this.props.product.products[this.props.graph.selectedProductId]['total'][this.props.graph.graphDomain[0].slice(0, 4)] : {}\n    const isProductAvailable = (this.props.product && this.props.product.products[this.props.graph.selectedProductId])\n\n    return (\n      <li className={\"bg-\" + this.props.graph.graphDomain[0].slice(0, 4) + \" paper textured yearly total-yearly-val\"}>\n        <ul className=\"body variance-val\">\n          <li>\n            <Typography variant=\"h5\">Sell-Out Units</Typography>\n            <Tooltip title={isProductAvailable ? 'Sum of YTD actuals + prediction for selected year (where available)' : 'Please select a product first'}>\n              <Typography variant=\"h2\">\n                {HRNumbers.toHumanString(product['sell_out_units_ytd'] || 0)}\n              </Typography>\n            </Tooltip>\n          </li>\n          <li>\n            <Typography variant=\"h5\">Demand</Typography>\n            <Tooltip title={isProductAvailable ? 'Sum of adjusted demand YTD actuals + PDU prediction for selected year' : 'Please select a product first'}>\n              <Typography variant=\"h2\">\n                {HRNumbers.toHumanString(product['demand_units_ytg'] || 0)}\n              </Typography>\n            </Tooltip>\n          </li>\n          <li>\n            <Typography variant=\"h5\">Sell-Out Units LY</Typography>\n            <Tooltip title={isProductAvailable ? 'Sum of LY actuals for selected year (where available)' : 'Please select a product first'}>\n              <Typography variant=\"h4\">\n                {HRNumbers.toHumanString(product['sell_out_units_ly'] || 0)}\n              </Typography>\n            </Tooltip>\n          </li>\n          <li>\n            <Typography variant=\"h5\">Demand LY</Typography>\n            <Tooltip title={isProductAvailable ? 'Sum of adjusted demand LY actuals for selected year' : 'Please select a product first'}>\n              <Typography variant=\"h4\">\n                {HRNumbers.toHumanString(product['demand_units_ly'] || 0)}\n              </Typography>\n            </Tooltip>\n          </li>\n          <li>\n            <Typography variant=\"h5\">%Variance</Typography>\n            <Typography variant=\"h4\" className={varianceClass(product['sell_out_units_ytd'], product['sell_out_units_ly']) + ' p-l-10'}>\n              {displayABSVariance(product['sell_out_units_ytd'], product['sell_out_units_ly'])}%\n            </Typography>\n          </li>\n\n          <li>\n            <Typography variant=\"h5\">%Variance</Typography>\n            <Typography variant=\"h4\" className={varianceClass(product['demand_units_ytg'], product['demand_units_ly']) + ' p-l-10'}>\n              {displayABSVariance(product['demand_units_ytg'], product['demand_units_ly'])}%\n            </Typography>\n          </li>\n        </ul>\n      </li>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    product: state.product,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, {})(GlobalData);\n\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Typography} from \"@material-ui/core\"\nimport HRNumbers from 'human-readable-numbers'\nimport {\n  BarChart,\n  Bar,\n  LabelList,\n  YAxis,\n  CartesianGrid\n} from \"recharts\"\n\nclass YearlyComparison extends Component {\n\n  demandData() {\n    const product = (this.props.product && this.props.product.products[this.props.graph.selectedProductId]) ? this.props.product.products[this.props.graph.selectedProductId]['total'][this.props.graph.graphDomain[0].slice(0, 4)] : {}\n    const isProductAvailable = (this.props.product && this.props.product.products[this.props.graph.selectedProductId])\n    if (isProductAvailable && product && product.demand_units_ly && (product.demand_units_ytd)) {\n      return [\n        { name: '2019', demand: product.demand_units_ly, sellout: (product.demand_units_ytd), final: Math.abs(product.demand_units_ly - (product.demand_units_ytd)) }\n      ]\n    }\n  }\n\n  sellOutData() {\n    const product = (this.props.product && this.props.product.products[this.props.graph.selectedProductId]) ? this.props.product.products[this.props.graph.selectedProductId]['total'][this.props.graph.graphDomain[0].slice(0, 4)] : {}\n    const isProductAvailable = (this.props.product && this.props.product.products[this.props.graph.selectedProductId])\n    if (isProductAvailable && product && product.sell_out_units_ly && (product.sell_out_units_ytd)) {\n      return [\n        {\n          name: '2020',\n          demand: product.sell_out_units_ly,\n          sellout: (product.sell_out_units_ytd),\n          final: Math.abs(product.sell_out_units_ly - (product.sell_out_units_ytd))\n        }\n      ]\n    }\n  }\n\n  render() {\n    const product = (this.props.product && this.props.product.products[this.props.graph.selectedProductId]) ? this.props.product.products[this.props.graph.selectedProductId]['total'][this.props.graph.graphDomain[0].slice(0, 4)] : {}\n\n    return (\n      <li className=\"comparison-sec paper\">\n        <div className=\"d-flex justify-center m-b-9\">\n          <Typography variant=\"h4\" className=\"\">{this.props.graph.graphDomain[0].slice(0, 4).toString() - 1} vs {this.props.graph.graphDomain[0].slice(0, 4)} YEARLY COMPARISON\n</Typography>\n          <ul className=\"m-l-15 d-flex\">\n            <li className=\"\">{this.props.graph.graphDomain[0].slice(0, 4).toString() - 1}</li>\n            <li className=\"\">{this.props.graph.graphDomain[0].slice(0, 4)}</li>\n          </ul>\n        </div>\n        <div className=\"d-flex\">\n          <div className=\"\">\n            <BarChart barSize={40} width={200} height={165} data={this.sellOutData()}\n              margin={{ top: 5, right: 0, left: 20, bottom: 5 }}>\n              <CartesianGrid vertical={false} />\n              <YAxis\n                mirror\n                orientation='right'\n                fontSize={'10px'}\n                dy={7}\n                tickFormatter={(val) => HRNumbers.toHumanString(val)}\n                tickLine={false}\n              />\n              <Bar isAnimationActive={false} dataKey=\"demand\" fill=\"#ea9191\" />\n              <Bar isAnimationActive={false} dataKey=\"sellout\" fill=\"#79ade8\" />\n              <Bar isAnimationActive={false} barSize={25} dataKey=\"sellout\" fill=\"transparent\" />\n              {product.sell_out_units_ly > (product.sell_out_units_ytd) && <Bar isAnimationActive={false} barSize={2} stackId='sellout' dataKey=\"sellout\" fill=\"transparent\" />}\n              {product.sell_out_units_ly <= (product.sell_out_units_ytd) && <Bar isAnimationActive={false} barSize={2} stackId='sellout' dataKey=\"demand\" fill=\"transparent\" />}\n              <Bar isAnimationActive={false} barSize={2} stackId='sellout' dataKey=\"final\" fill={ product.sell_out_units_ly > (product.sell_out_units_ytd) ? 'red' : 'green' } >\n                {product.sell_out_units_ly > (product.sell_out_units_ytd) && <LabelList x={143} dataKey=\"final\" y={String(((165 / product.sell_out_units_ly) * (Math.abs(product.sell_out_units_ly - (product.sell_out_units_ytd)) / 2)))} fill={product.sell_out_units_ly > (product.sell_out_units_ytd) ? 'red' : 'green'} fontSize={'10px'} position=\"left\" formatter={(val) => HRNumbers.toHumanString(val)} />}\n                {product.sell_out_units_ly <= (product.sell_out_units_ytd) && <LabelList x={143} dataKey=\"final\" y={String(((165 / (product.sell_out_units_ytd)) * (Math.abs(product.sell_out_units_ytd*10 - (product.sell_out_units_ly)) / 2)))} fill={product.sell_out_units_ly > (product.sell_out_units_ytd) ? 'red' : 'green'} fontSize={'10px'} position=\"left\" formatter={(val) => HRNumbers.toHumanString(val)} />}\n              </Bar>\n              <Bar isAnimationActive={false} dataKey=\"sellout\" fill=\"transparent\" />\n            </BarChart>\n            <div className=\"yearly-heading\">\n              SELL-OUT\n            </div>\n          </div>\n          <div>\n            <BarChart barSize={40} width={220} height={165} data={this.demandData()}\n              margin={{ top: 5, right: 30, left: 0, bottom: 5 }}>\n              <CartesianGrid vertical={false} />\n              <YAxis\n                mirror\n                orientation='left'\n                fontSize={'10px'}\n                dy={7}\n                tickLine={false}\n                tickFormatter={(val) => HRNumbers.toHumanString(val)}\n              />\n              <Bar isAnimationActive={false} dataKey=\"sellout\" fill=\"transparent\" />\n              {product.demand_units_ly > ((product.demand_units_ytd)) && <Bar isAnimationActive={false} barSize={2} stackId='demand' dataKey=\"sellout\" fill=\"transparent\" />}\n              {product.demand_units_ly <= ((product.demand_units_ytd)) && <Bar isAnimationActive={false} barSize={2} stackId='demand' dataKey=\"demand\" fill=\"transparent\" />}\n              <Bar isAnimationActive={false} barSize={2} stackId='demand' dataKey=\"final\" fill={product.demand_units_ly > (product.demand_units_ytd) ? 'red' : 'green'} >\n                {product.demand_units_ly > ((product.demand_units_ytd)) && <LabelList x={63} dataKey=\"final\" y={String(((165 / product.demand_units_ly) * (Math.abs(product.demand_units_ly - (product.demand_units_ytd)) / 2)))} fill={product.demand_units_ly > ((product.demand_units_ytd)) ? 'red' : 'green'} fontSize={'10px'} position=\"right\" formatter={(val) => HRNumbers.toHumanString(val)} />}\n                {product.demand_units_ly <= ((product.demand_units_ytd)) && <LabelList x={63} dataKey=\"final\" y={String(((165 / (product.demand_units_ytd)) * (Math.abs((product.demand_units_ytd) - product.demand_units_ly) / 2)))} fill={product.demand_units_ly > ((product.demand_units_ytd)) ? 'red' : 'green'} fontSize={'10px'} position=\"right\" formatter={(val) => HRNumbers.toHumanString(val)} />}\n              </Bar>\n              <Bar isAnimationActive={false} barSize={25} dataKey=\"sellout\" fill=\"transparent\" />\n              <Bar isAnimationActive={false} dataKey=\"demand\" fill=\"#ea9191\" />\n              <Bar isAnimationActive={false} dataKey=\"sellout\" fill=\"#79ade8\" />\n            </BarChart>\n            <div className=\"yearly-heading demand-head\">\n              Demand\n            </div>\n          </div>\n        </div>\n\n      </li>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    product: state.product,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, {})(YearlyComparison);\n\n","import { SHOW_LOADER, HIDE_LOADER } from 'utils/types'\n\nexport const startRequest = (dispatch, state) => {\n  dispatch({\n    type: SHOW_LOADER,\n    payload: true\n  })\n}\n\nexport const endRequest = (dispatch) => {\n  dispatch({\n    type: HIDE_LOADER,\n    payload: false\n  })\n}\n","export const LOGIN_TYPE = 'login_type';\nexport const TOGGLE_LOADER = 'TOGGLE_LOADER';\nexport const LOGOUT_TYPE = 'logout_type';\nexport const SHOW_ASSORT_BROWSER = 'SHOW_ASSORT_BROWSER';\nexport const HIDE_ASSORT_BROWSER = 'HIDE_ASSORT_BROWSER';\nexport const TOGGLE_KPI = 'TOGGLE_KPI';\nexport const SHOW_FLASH_MESSAGE = 'SHOW_FLASH_MESSAGE';\nexport const HIDE_FLASH_MESSAGE = 'HIDE_FLASH_MESSAGE';\nexport const TOGGLE_ALERT = 'TOGGLE_ALERT';\nexport const UPDATE_FILTER_PERIOD = 'UPDATE_FILTER_PERIOD';\nexport const SHOW_CONFIRM_BOX = 'SHOW_CONFIRM_BOX';\nexport const HIDE_CONFIRM_BOX = 'HIDE_CONFIRM_BOX';\nexport const UPDATE_DATA = 'UPDATE_DATA';\nexport const SET_INITIAL_DATA = 'SET_INITIAL_DATA';\nexport const SHOW_ASSORTMENT_ALERTS = 'SHOW_ASSORTMENT_ALERTS';\nexport const HIDE_ASSORTMENT_ALERTS = 'HIDE_ASSORTMENT_ALERTS';\nexport const SHOW_ASSORTMENT_VARIABLES = 'SHOW_ASSORTMENT_VARIABLES';\nexport const HIDE_ASSORTMENT_VARIABLES = 'HIDE_ASSORTMENT_VARIABLES';\nexport const UPDATE_VARIABLE_DATA = 'UPDATE_VARIABLE_DATA';\nexport const UPDATE_GRAPH_DOMAIN = 'UPDATE_GRAPH_DOMAIN';\nexport const GOTO_PREVIOUS = 'GOTO_PREVIOUS';\nexport const GOTO_NEXT = 'GOTO_NEXT';\nexport const GOTO_CURRENT = 'GOTO_CURRENT';\nexport const HANDLE_SELECTED_PRODUCT_CHANGE = 'HANDLE_SELECTED_PRODUCT_CHANGE';\nexport const SHOW_LOADER = 'SHOW_LOADER';\nexport const HIDE_LOADER = 'HIDE_LOADER';\nexport const UPDATE_MERCH_DATA = 'UPDATE_MERCH_DATA';\nexport const UPDATE_REGION_DATA = 'UPDATE_REGION_DATA';\nexport const UPDATE_CALENDAR_DATA = 'UPDATE_CALENDAR_DATA';\nexport const ADD_PRODUCT = 'ADD_PRODUCT';\nexport const REMOVE_PRODUCT = 'REMOVE_PRODUCT';\n","// var  HOST = 'https://trinity-dev.levi.com'\r\nvar  HOST = 'http://127.0.0.1:8000'\r\nexport default HOST = HOST;","import HOST from '../actions/config';\n\nexport const GraphHelper = {\n  sell_out_units_ytd: {\n    stroke: \"#127569\",\n    strokeWidth: 2,\n    name: 'sell_out_units_ytd'\n  },\n  sell_out_units_ytg: {\n    stroke: \"#127569\",\n    strokeWidth: 2,\n    name: 'sell_out_units_ytg'\n  },\n  sell_out_units_sas: {\n    stroke: \"#7FCAA3\",\n    strokeWidth: 2,\n    name: 'sell_out_units_sas'\n  },\n  sell_out_units_scatter: {\n    stroke: \"#7FCAA3\",\n    strokeWidth: 2,\n    name: 'sell_out_units_scatter'\n  },\n  demand_units_sas: {\n    stroke: \"#FA5391\",\n    strokeWidth: 2,\n    name: 'demand_units_sas'\n  },\n  demand_units_ytd: {\n    stroke: \"#FDC36D\",\n    strokeWidth: 2,\n    name: 'demand_units_ytd'\n  },\n  demand_units_ytg: {\n    stroke: \"#FDC36D\",\n    strokeWidth: 2,\n    name: 'demand_units_ytg'\n  },\n  demand_units_scatter: {\n    stroke: \"#FDC36D\",\n    strokeWidth: 2,\n    name: 'demand_units_scatter'\n  },\n  shipments: {\n    stroke: \"#8F8F8F\",\n    strokeWidth: 2,\n    name: 'shipments'\n  },\n  demand_units_ly: {\n    stroke: \"#EE7470\",\n    strokeWidth: 2,\n    name: 'demand_units_ly'\n  },\n  sell_out_units_ly: {\n    stroke: \"#65ABDE\",\n    strokeWidth: 2,\n    name: 'sell_out_units_ly'\n  }\n}\n\nexport const URLS = [\n  {\n    url: `${HOST}/KPI/sell-out-units-LY/`,\n    last_year: true,\n    helper: [\n      {\n        type: GraphHelper['sell_out_units_ly']['name'],\n        parse: 'LY'\n      }\n    ]\n  },\n  {\n    url: `${HOST}/KPI/sell-out-units/`,\n    last_year: false,\n    helper: [\n      {\n        type: GraphHelper['sell_out_units_ytd']['name'],\n        parse: 'YTD'\n      },\n      {\n        type: GraphHelper['sell_out_units_ytg']['name'],\n        parse: 'YTG'\n      }\n    ]\n  },\n  {\n    url: `${HOST}/KPI/sell-out-units-SAS/`,\n    last_year: false,\n    helper: [\n      {\n        type: GraphHelper['sell_out_units_sas']['name'],\n        parse: 'YTG'\n      }\n    ]\n  },\n  {\n    url: `${HOST}/KPI/demand-units-LY/`,\n    last_year: true,\n    helper: [\n      {\n        type: GraphHelper['demand_units_ly']['name'],\n        parse: 'LY'\n      }\n    ]\n  },\n  {\n    url: `${HOST}/KPI/demand-units-SAS/`,\n    last_year: false,\n    helper: [\n      {\n        type: GraphHelper['demand_units_sas']['name'],\n        parse: 'YTG'\n      }\n    ]\n  },\n  {\n    url: `${HOST}/KPI/demand-units/`,\n    last_year: false,\n    helper: [\n      {\n        type: GraphHelper['demand_units_ytd']['name'],\n        parse: 'YTD'\n      },\n      {\n        type: GraphHelper['demand_units_ytg']['name'],\n        parse: 'YTG'\n      }\n    ]\n  },\n  {\n    url: `${HOST}/KPI/shipments/`,\n    last_year: false,\n    helper: [\n      {\n        type: GraphHelper['shipments']['name'],\n        parse: 'YTD'\n      }\n    ]\n  },\n]\n","import { LOGIN_TYPE, LOGOUT_TYPE } from 'utils/types'\n\nconst INITIAL_STATE = {\n  loggedIn: false\n}\n\nexport default (state = INITIAL_STATE, { type, payload }) => {\n  switch (type) {\n    case LOGIN_TYPE:\n      return { ...state, loggedIn: true }\n    case LOGOUT_TYPE:\n      return { ...state, loggedIn: false }\n    default:\n      return state;\n  }\n}\n","import { SHOW_ASSORT_BROWSER, HIDE_ASSORT_BROWSER, UPDATE_MERCH_DATA, UPDATE_REGION_DATA } from 'utils/types'\n\nconst INITIAL_STATE = {\n  assortmentDialogOpen: false,\n  merchDetails: {},\n  regionDetails: {}\n}\n\nconst randomNumber = () => {\n  return 'r' + Math.floor(Math.random() * 10000000).toString();\n}\n\nconst processMerch = (hierarchy) => {\n  return {\n    Brand: hierarchy.Brand.filter((br) => Object.keys(br)[0] === 'LEVIS').map((brand) => {\n      const brandNodeId = randomNumber()\n      return {\n        name: Object.keys(brand)[0],\n        id: Object.values(brand)[0],\n        nodeId: brandNodeId,\n        displayName: Object.keys(brand)[0],\n        uniqueId: { brand: Object.keys(brand)[0] },\n        Consumer: hierarchy.Consumer.map((consumer) => {\n          const consumerNodeId = randomNumber()\n          return {\n            name: Object.keys(consumer)[0],\n            id: Object.values(consumer)[0],\n            nodeId: consumerNodeId,\n            displayName: `${Object.keys(brand)[0]} / ${Object.keys(consumer)[0]}`,\n            breadcrumb: [{ name: Object.keys(brand)[0], id: brandNodeId }, { name: Object.keys(consumer)[0], id: consumerNodeId }],\n            uniqueId: { brand: Object.keys(brand)[0], consumer: Object.keys(consumer)[0] },\n            Category: hierarchy.Category.map((category) => {\n              const categoryNodeId = randomNumber()\n              return {\n                name: Object.keys(category)[0],\n                id: Object.values(category)[0],\n                nodeId: categoryNodeId,\n                breadcrumb: [{ name: Object.keys(brand)[0], id: brandNodeId }, { name: Object.keys(consumer)[0], id: consumerNodeId }, { name: Object.keys(category)[0], id: categoryNodeId }],\n                displayName: `${Object.keys(brand)[0]} / ${Object.keys(consumer)[0]} / ${Object.keys(category)[0]}`,\n                uniqueId: { brand: Object.keys(brand)[0], consumer: Object.keys(consumer)[0], category: Object.keys(category)[0] }\n              }\n            })\n          }\n        })\n      }\n    })\n  }\n}\n\nconst processRegionData = (data) => {\n  return {\n    region: data.regions.map((region) => {\n      const regionNodeId = randomNumber()\n      return {\n        name: region.name,\n        id: region.name,\n        nodeId: regionNodeId,\n        displayName: region.name,\n        uniqueId: { region: region.name },\n        affiliate: region.affiliates.map((affiliateData) => {\n          const affiliateNodeId = randomNumber()\n          return {\n            name: affiliateData.name,\n            id: affiliateData.affiliate_code,\n            nodeId: affiliateNodeId,\n            displayName: `${region.name} / ${affiliateData.name}`,\n            breadcrumb: [{ name: region.name, id: regionNodeId }, { name: affiliateData.name, id: affiliateNodeId }],\n            uniqueId: { region: region.name, affiliate: affiliateData.name },\n            channels: affiliateData.channels.map((channel) => {\n              const channelNodeId = randomNumber()\n              return {\n                name: channel.name,\n                id: channel.name,\n                nodeId: channelNodeId,\n                displayName: `${region.name} / ${affiliateData.name} / ${channel.name}`,\n                breadcrumb: [{ name: region.name, id: regionNodeId }, { name: affiliateData.name, id: affiliateNodeId }, { name: channel.name, id: channelNodeId }],\n                uniqueId: { region: region.name, affiliate: affiliateData.name, channel: channel.name },\n                planning_groups: channel.planning_groups.map((planning_group) => {\n                  const planningGroupNodeId = randomNumber()\n                  return {\n                    name: Object.keys(planning_group)[0],\n                    id: Object.values(planning_group)[0],\n                    nodeId: planningGroupNodeId,\n                    displayName: `${region.name} / ${affiliateData.name} / ${channel.name} / ${Object.keys(planning_group)[0]}`,\n                    breadcrumb: [{ name: region.name, id: regionNodeId }, { name: affiliateData.name, id: affiliateNodeId }, { name: channel.name, id: channelNodeId }, { name: Object.keys(planning_group)[0], planningGroupNodeId }],\n                    uniqueId: { region: region.name, affiliate: affiliateData.name, channel: channel.name, planning_group_name: Object.keys(planning_group)[0] },\n                  }\n                })\n              }\n            })\n          }\n        })\n      }\n    })\n  }\n}\n\nexport default (state = INITIAL_STATE, { type, payload }) => {\n  switch (type) {\n    case SHOW_ASSORT_BROWSER:\n      return { ...state, assortmentDialogOpen: true }\n    case HIDE_ASSORT_BROWSER:\n      return { ...state, assortmentDialogOpen: false }\n    case UPDATE_MERCH_DATA:\n      return { ...state, merchDetails: processMerch(payload.data.Hierarchy) }\n    case UPDATE_REGION_DATA:\n      return { ...state, regionDetails: processRegionData(payload.data) }\n    default:\n      return state;\n  }\n}\n","import { SHOW_FLASH_MESSAGE, HIDE_FLASH_MESSAGE, SHOW_CONFIRM_BOX, HIDE_CONFIRM_BOX, SHOW_LOADER, HIDE_LOADER } from 'utils/types'\n\nconst INITIAL_STATE = {\n  flash: {\n    alertOpen: false,\n    alertMessage: '',\n    severity: 'success'\n  },\n  confirmBoxData: {\n    open: false,\n    subject: '',\n    body: ''\n  },\n  showLoader: false\n}\n\nexport default (state = INITIAL_STATE, { type, payload }) => {\n  switch (type) {\n    case SHOW_FLASH_MESSAGE:\n      return { ...state, flash: { alertOpen: true, alertMessage: payload.message, severity: payload.severity } }\n    case HIDE_FLASH_MESSAGE:\n      return { ...state, flash: { alertOpen: false, alertMessage: '' } }\n    case SHOW_CONFIRM_BOX:\n      return { ...state, confirmBoxData: { open: true, subject: payload.subject, body: payload.body } }\n    case HIDE_CONFIRM_BOX:\n      return { ...state, confirmBoxData: { open: false, subject: '', body: '' } }\n    case SHOW_LOADER:\n      return { ...state, showLoader: true }\n    case HIDE_LOADER:\n      return { ...state, showLoader: false }\n    default:\n      return state;\n  }\n}\n","import { TOGGLE_KPI, REMOVE_PRODUCT, TOGGLE_ALERT, UPDATE_FILTER_PERIOD, UPDATE_GRAPH_DOMAIN, GOTO_PREVIOUS, GOTO_NEXT, GOTO_CURRENT, HANDLE_SELECTED_PRODUCT_CHANGE, UPDATE_CALENDAR_DATA, ADD_PRODUCT } from 'utils/types'\nimport deepmerge from 'deepmerge'\nimport moment from 'moment'\n\nconst INITIAL_STATE = {\n  kpis: {\n    sell_out_units: {\n      name: 'Sell-Out Units',\n      selected: true,\n      className: 'sell_out_units_ytd',\n      style: {\n        color: '#127569',\n        color1: '#127569',\n        color2: '#127569'\n      }\n    },\n    sell_out_units_ly: {\n      name: 'Sell-Out Units LY',\n      selected: true,\n      className: 'sell_out_units_ly',\n      style: {\n        color: '#65ABDE',\n        color1: '#65ABDE',\n        color2: '#65ABDE'\n      }\n    },\n    sell_out_units_sas: {\n      name: 'Sell-Out Units Plan',\n      selected: true,\n      className: 'sell_out_units_sas',\n      style: {\n        color: '#7FCAA3',\n        color1: '#7FCAA3',\n        color2: '#7FCAA3'\n      }\n    },\n    demand_units: {\n      name: 'Demand',\n      selected: true,\n      className: 'demand_units_ytd',\n      style: {\n        color: '#FDC36D',\n        color1: '#FDC36D',\n        color2: '#FDC36D'\n      }\n    },\n    demand_units_ly: {\n      name: 'Demand LY',\n      selected: true,\n      className: 'demand_units_ly',\n      style: {\n        color: '#EE7470',\n        color1: '#EE7470',\n        color2: '#EE7470'\n      }\n    },\n    demand_units_sas: {\n      name: 'Demand Plan',\n      selected: true,\n      className: 'demand_units_sas',\n      style: {\n        color: '#FA5391',\n        color1: '#FA5391',\n        color2: '#FA5391'\n      }\n    },\n    shipment: {\n      name: 'Shipments',\n      selected: true,\n      className: 'shipments',\n      style: {\n        color: '#8F8F8F',\n        color1: '#8F8F8F',\n        color2: '#8F8F8F'\n      }\n    }\n  },\n  showAlert: false,\n  filterPeriod: 'year',\n  savedProducts: [],\n  graphDomain: ['202001', '202012'],\n  selectedProductId: '',\n  currentDate: moment().toString(),\n  calendarData: {}\n}\n\nconst getSeasonRange = (currentDate) => {\n  const startYear = moment(currentDate).startOf('year')\n  if (moment(currentDate).quarter() <= 2) {\n    return [startYear.clone().startOf('year').format('YYYYMM'), startYear.clone().startOf('year').add(5, 'months').format('YYYYMM')]\n  } else {\n    return [startYear.clone().startOf('year').add(6, 'months').format('YYYYMM'), startYear.clone().endOf('year').startOf('week').format('YYYYMM')]\n  }\n}\n\nconst maxYear = (year) => {\n  return year === '2021' ? '2020' : year\n}\n\nconst minDate = (filterPeriod, date) => {\n  const maxDate = moment.max(moment().subtract(1, 'year').startOf('year'), date)\n  switch (filterPeriod) {\n    case 'year':\n      return moment.min(moment().endOf('year').subtract(5, 'week'), maxDate)\n    case 'season':\n      return moment.min(moment().endOf('year').subtract(1, 'quarter'), maxDate)\n    case 'quarter':\n      return moment.min(moment().endOf('year').subtract(1, 'quarter'), maxDate)\n    case 'month':\n      return moment.min(moment().endOf('year').subtract(2, 'months'), maxDate)\n    case 'week':\n      return moment.min(moment().endOf('year').subtract(5, 'week').startOf('week'), maxDate)\n    default:\n      break;\n  }\n}\n\nconst getWeekMappingByMonth = (month, state) => {\n  return Object.entries(state.calendarData).find((calendar, index) => {\n    return calendar[1]['fiscal_month'] === month\n  })[0]\n}\n\nconst getLastWeekMappingByMonth = (month, state) => {\n  const iteratableCalendarData = Object.entries(state.calendarData)\n  const lastIndex = iteratableCalendarData.map((calendar, index) => {\n    return !!(String(calendar[1]['fiscal_month']) === month && calendar[0] !== \"null\")\n  }).lastIndexOf(true)\n  return iteratableCalendarData[lastIndex] && iteratableCalendarData[lastIndex][0]\n}\n\nconst getFirstMonth = (currentDate, state) => {\n  return moment(getWeekMappingByMonth(moment(currentDate).startOf('month').format('YYYY0MM'), state), 'YYYYWW').endOf('week')\n}\n\nconst getSecondMonth = (currentDate, state) => {\n  return moment(getLastWeekMappingByMonth(moment(currentDate).add(2, 'month').endOf('month').format('YYYY0MM'), state), 'YYYYWW').format('YYYYWW')\n}\n\nconst getNewGraphDomain = (filterPeriod, currentDate, state) => {\n  switch (filterPeriod) {\n    case 'year':\n      return [moment(currentDate).startOf('year').format('YYYYMM'), moment(currentDate).endOf('year').subtract(2, 'days').format('YYYYMM')]\n    case 'season':\n      return getSeasonRange(currentDate)\n    case 'quarter':\n      return [minDate(filterPeriod, moment(currentDate).startOf('quarter').endOf('week')).format('YYYYMM'), moment(currentDate).add(1, 'quarter').endOf('quarter').startOf('week').format('YYYYMM')]\n    case 'month':\n      return [minDate(filterPeriod, getFirstMonth(currentDate, state)).format('YYYYWW'), getSecondMonth(currentDate, state)]\n    case 'week':\n      return [minDate(filterPeriod, moment(currentDate).startOf('week')).format('YYYYWW'), maxYear(moment(currentDate).add(5, 'weeks').endOf('week').format('YYYY')) + moment(currentDate).add(5, 'weeks').endOf('week').format('WW')]\n    default:\n      break;\n  }\n}\n\nconst gotoPreviousDate = (filterPeriod, state) => {\n  switch (filterPeriod) {\n    case 'year':\n      return moment(state.currentDate).subtract(1, 'year').startOf('year')\n    case 'season':\n      return moment(state.currentDate).subtract(6, 'months').startOf('month')\n    case 'quarter':\n      return moment(state.currentDate).subtract(3, 'months').startOf('month')\n    case 'month':\n      return moment(state.currentDate).subtract(1, 'month').startOf('month')\n    case 'week':\n      return moment(state.currentDate).subtract(1, 'week').startOf('week')\n    default:\n      break;\n  }\n}\n\nconst gotoNextDate = (filterPeriod, state) => {\n  switch (filterPeriod) {\n    case 'year':\n      return moment(state.currentDate).add(1, 'year')\n    case 'season':\n      return moment(state.currentDate).add(6, 'months')\n    case 'quarter':\n      return moment(state.currentDate).add(3, 'months')\n    case 'month':\n      return moment(state.currentDate).add(1, 'month')\n    case 'week':\n      return moment(state.currentDate).add(1, 'week').startOf('week')\n    default:\n      break;\n  }\n}\n\nconst processCalendarData = (data) => {\n  const calendarData = {}\n  data.KPI.forEach((kpi) => {\n    calendarData[String(kpi.fisc_week)] = { fiscal_month: String(kpi.fisc_month), fiscal_year: String(kpi.fisc_month).slice(0, 4) }\n  })\n  return calendarData\n}\n\nexport default (state = INITIAL_STATE, { type, payload }) => {\n  switch (type) {\n    case TOGGLE_KPI:\n      state.kpis[payload.kpi].selected = !state.kpis[payload.kpi].selected\n      return deepmerge.all([state])\n    case ADD_PRODUCT:\n      const productsClone = deepmerge.all([state.savedProducts])\n      if(!productsClone[payload.product]) {\n        productsClone.push(payload)\n      }\n      return { ...state, savedProducts: productsClone }\n    case TOGGLE_ALERT:\n      return { ...state, showAlert: !state.showAlert }\n    case UPDATE_FILTER_PERIOD:\n      return { ...state, filterPeriod: payload, currentDate: minDate(payload, moment(state.currentDate)).toString(), graphDomain: getNewGraphDomain(payload, minDate(payload, moment(state.currentDate)), state) }\n    case GOTO_PREVIOUS:\n      const prevDate = minDate(state.filterPeriod, gotoPreviousDate(state.filterPeriod, state))\n      return { ...state, currentDate: prevDate.toString(), graphDomain: getNewGraphDomain(state.filterPeriod, prevDate, state) }\n    case GOTO_NEXT:\n      const nextDate = minDate(state.filterPeriod, gotoNextDate(state.filterPeriod, state))\n      return { ...state, currentDate: nextDate.toString(), graphDomain: getNewGraphDomain(state.filterPeriod, nextDate, state) }\n    case GOTO_CURRENT:\n      return { ...state, currentDate: moment().toString(), graphDomain: getNewGraphDomain(state.filterPeriod, moment(), state) }\n    case UPDATE_GRAPH_DOMAIN:\n      return { ...state, graphDomain: getNewGraphDomain(state) }\n    case HANDLE_SELECTED_PRODUCT_CHANGE:\n      return { ...state, selectedProductId: payload }\n    case UPDATE_CALENDAR_DATA:\n      return { ...state, calendarData: deepmerge.all([state.calendarData, processCalendarData(payload.data)]) }\n    case REMOVE_PRODUCT:\n      const removeProductData = deepmerge.all([state.savedProducts])\n      const removeProductDataIndex = removeProductData.findIndex((val) => val.product === payload)\n      if (removeProductDataIndex > -1) {\n        removeProductData.splice(removeProductDataIndex, 1)\n      }\n      return { ...state, savedProducts: removeProductData }\n    default:\n      return state;\n  }\n}\n","import moment from 'moment'\n\nexport const GetYearIndex = (year) => {\n  if(year === \"2018\") {\n    return 1000\n  } else {\n    return moment().isSame(moment(year, 'YYYY'), 'year') ? (Number(year + '00') - 52) : Number(year + '00')\n  }\n}\n\nexport const GetMonthIndex = (year) => {\n  if (year === \"2018\") {\n    return 1000\n  } else {\n    return moment().isSame(moment(year, 'YYYY'), 'year') ? (Number(year + '00') - 12) : Number(year + '00')\n  }\n}\n","import { UPDATE_DATA, SET_INITIAL_DATA, SHOW_ASSORTMENT_ALERTS, HIDE_ASSORTMENT_ALERTS, SHOW_ASSORTMENT_VARIABLES, HIDE_ASSORTMENT_VARIABLES, UPDATE_VARIABLE_DATA, ADD_PRODUCT, REMOVE_PRODUCT } from 'utils/types'\nimport deepmerge from 'deepmerge'\nimport { GetYearIndex, GetMonthIndex } from 'utils/getYearIndex'\n\nconst INITIAL_STATE = {\n  products: { },\n  showVariables: false,\n  showProductAlert: false,\n  activeTooltipIndex: 0\n}\n\nconst getValue = (date, newState, product, granularity) => {\n  return newState[product][granularity].find((val) => { return val.date === date })\n}\n\nexport const getNestedObject = function (data, deepPath) {\n  var newObject = data\n  for (var path of deepPath.split('.')) {\n    newObject = newObject[path]\n  }\n  return newObject\n}\n\nconst getType = (type, data) => {\n  if(type === 'demand_units_ytg' || type === 'sell_out_units_ytg') {\n    return data.predicted === 'True' ? type : null\n  } else if (type === 'demand_units_ytd' || type === 'sell_out_units_ytd') {\n    return data.predicted === 'False' ? type : null\n  }\n  return type\n}\n\nconst addDataForGraph = (dataSet, newState, payload) => {\n  if (payload.helper[0].type === 'sell_out_units_ytd') {\n    let presetValue = dataSet.KPI.filter((data) => data.predicted === 'False')\n    // newState[payload.product][payload.granularity].max()\n    if (presetValue.length) {\n      pushIntoData(dataSet, newState, payload, presetValue[presetValue.length - 1], 'sell_out_units_ytg', 'sell_out_units_ytg')\n    }\n  }\n  if (payload.helper[0].type === 'demand_units_ytd') {\n    let presetValue = dataSet.KPI.filter((data) => data.predicted === 'False')\n    // newState[payload.product][payload.granularity].max()\n    if (presetValue.length) {\n      pushIntoData(dataSet, newState, payload, presetValue[presetValue.length - 1], 'demand_units_ytg', 'demand_units_ytg')\n    }\n  }\n}\n\nconst pushIntoData = (dataSet, newState, payload, data, type, graphKey) => {\n  var date;\n  if (payload.helper[0].type === 'demand_units_ly' || payload.helper[0].type === 'sell_out_units_ly') {\n    date = payload.granularity === 'data' ? String(Number(String(data.fisc_week).slice(0, 4)) + 1) + String(data.fisc_week).slice(4, 6) : String(Number(String(data.fisc_month).slice(0, 4)) + 1) + String(data.fisc_month).slice(5, 7)\n  } else {\n    date = payload.granularity === 'data' ? String(data.fisc_week) : String(data.fisc_month).slice(0, 4) + String(data.fisc_month).slice(5, 7)\n  }\n  let currentValue = getValue(date, newState, payload.product, payload.granularity)\n  if (!currentValue) {\n    currentValue = { date: date, g_index: Number(date) - getIndex(payload, date.slice(0, 4)) }\n    newState[payload.product][payload.granularity].push(currentValue)\n  }\n  if (graphKey) {\n    currentValue[graphKey] = { ...data, KPI: parseInt(data.KPI) }\n  }\n  if (getType(type, data)) {\n    currentValue[getType(type, data)] = { ...data, KPI: parseInt(data.KPI) }\n  }\n}\n\nconst getIndex = (payload, year) => {\n  return payload.granularity === 'weekly_data' ? GetMonthIndex(year) : GetYearIndex(year)\n}\n\nconst processData = (dataSet, newState, payload) => {\n  payload.helper.forEach(({parse, type}) => {\n    newState[payload.product]['total'][payload.year][type] = dataSet.total\n    // const getIndex = payload.granularity === 'weekly_data' ? GetMonthIndex(payload.year) : GetYearIndex(payload.year)\n    dataSet.KPI.forEach((data) => {\n      pushIntoData(dataSet, newState, payload, data, type)\n    })\n  })\n  addDataForGraph(dataSet, newState, payload)\n  newState[payload.product][payload.granularity] = newState[payload.product][payload.granularity].sort((a, b) => { return a.g_index - b.g_index })\n}\n\nconst setData = () => {\n  return []\n}\n\nconst selectProduct = (product_id, state) => {\n  const showAssortData = deepmerge.all([state.products])\n  showAssortData[product_id]['selected'] = true\n  return showAssortData\n}\n\nconst setProductVariableProduct = (state, payload) => {\n  const showAssortData = deepmerge.all([state.products])\n  showAssortData[payload.product_id]['selected'] = true\n  return showAssortData\n}\n\nconst hideProduct = (state) => {\n  const hideAssortData = deepmerge.all([state.products])\n  Object.entries(hideAssortData).forEach(([key, product]) => product.selected = false)\n  return hideAssortData\n}\n\nconst updateVariableData = (state, payload) => {\n  const hideAssortData = deepmerge.all([state.products])\n  const productKey = Object.entries(hideAssortData).find(([key, product]) => product.selected)[0]\n  const productDatum = hideAssortData[productKey][payload.dataKey][state.activeTooltipIndex]\n  if (payload.demand !== productDatum.demand_units_ytg.KPI) {\n    productDatum.demand_units_scatter = { date: productDatum.date, g_index: productDatum.g_index, KPI: payload.demand }\n  }\n  if (payload.sellout !== productDatum.sell_out_units_ytg.KPI) {\n    productDatum.sell_out_units_scatter = { date: productDatum.date, g_index: productDatum.g_index, KPI: payload.sellout }\n  }\n  return hideAssortData\n}\n\nconst initialData = () => {\n  return {\n    data: setData(),\n    weekly_data: setData(),\n    total: {\n      2019: {},\n      2020: {}\n    },\n    selected: false,\n    detail: {\n      name: 'Levis',\n      category: 'Category'\n    }\n  }\n}\n\nexport default (state = INITIAL_STATE, { type, payload }) => {\n  switch (type) {\n    case REMOVE_PRODUCT:\n      const removeProductData = deepmerge.all([state.products])\n      delete removeProductData[payload]\n      return { ...state, products: removeProductData }\n    case ADD_PRODUCT:\n      const newProduct = {}\n      newProduct[payload.product] = initialData()\n      return { ...state, products: deepmerge.all([state.products, newProduct]) }\n    case SET_INITIAL_DATA:\n      const initProductData = deepmerge.all([state.products])\n      payload.products.forEach((product) => {\n        if (!initProductData[product.product]) {\n          initProductData[product.product] = initialData()\n        }\n      })\n      return { ...state, products: initProductData }\n    case SHOW_ASSORTMENT_ALERTS:\n      return { ...state, products: selectProduct(payload, state), showProductAlert: true }\n    case HIDE_ASSORTMENT_ALERTS:\n      return { ...state, products: hideProduct(state), showProductAlert: false }\n    case SHOW_ASSORTMENT_VARIABLES:\n      return { ...state, products: setProductVariableProduct(state, payload), showVariables: true, activeTooltipIndex: payload.activeTooltipIndex }\n    case HIDE_ASSORTMENT_VARIABLES:\n      return { ...state, products: hideProduct(state), showVariables: false, activeTooltipIndex: 0 }\n    case UPDATE_DATA:\n      const newData = deepmerge.all([state.products])\n      processData(payload.data, newData, payload)\n      return { ...state, products: newData }\n    case UPDATE_VARIABLE_DATA:\n      return { ...state, products: updateVariableData(state, payload) }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux'\nimport Authentication from 'data/authentication'\nimport Home from 'data/home'\nimport Shared from 'data/shared'\nimport Graph from 'data/graph'\nimport Product from 'data/product';\n\nexport default combineReducers({\n  auth: Authentication,\n  home: Home,\n  graph: Graph,\n  shared: Shared,\n  product: Product\n})\n","import { createStore, applyMiddleware } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport ReduxThunk from 'redux-thunk'\n\nimport rootReducer from './store.js'\n\nconst persistConfig = {\n  key: 'pr_app',\n  storage,\n  whitelist: ['auth', 'graph']\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport const store = createStore(persistedReducer, {}, applyMiddleware(ReduxThunk))\nexport const persistor = persistStore(store)\n","import { store } from 'utils/configureStore';\n\nexport const getGranularity = () => {\n  return MAP_FILTER_TYPE_DISPLAY[store.getState().graph.filterPeriod]['granularity']\n}\n\nexport const getDataKey = () => {\n  return MAP_FILTER_TYPE_DISPLAY[store.getState().graph.filterPeriod]['data']\n}\n\nconst MAP_FILTER_TYPE_DISPLAY = {\n  'year': {\n    granularity: 'monthly',\n    data: 'weekly_data'\n  },\n  'season': {\n    granularity: 'monthly',\n    data: 'weekly_data'\n  },\n  'quarter': {\n    granularity: 'monthly',\n    data: 'weekly_data'\n  },\n  'month': {\n    granularity: 'weekly',\n    data: 'data'\n  },\n  'week': {\n    granularity: 'weekly',\n    data: 'data'\n  },\n}\n\nexport default MAP_FILTER_TYPE_DISPLAY;\n","import { startRequest, endRequest } from 'actions/axiosConfig';\nimport axios from 'axios';\nimport { URLS } from 'utils/graphHelper';\nimport watch from 'redux-watch'\nimport { store } from 'utils/configureStore';\nimport {\n  UPDATE_DATA,\n  SET_INITIAL_DATA,\n  UPDATE_MERCH_DATA,\n  UPDATE_REGION_DATA,\n  UPDATE_CALENDAR_DATA,\n  ADD_PRODUCT\n} from 'utils/types'\nimport moment from 'moment'\nimport { getGranularity, getDataKey } from 'utils/map_filter_type_display'\n\nimport HOST from './config';\n\nexport const someThenableThunk = () => (dispatch, getState) => Promise.resolve().then(() => {\n  const state = getState();\n  return dispatch({\n    type: SET_INITIAL_DATA,\n    payload: {\n      year: moment().format('YYYY'),\n      products: state.graph.savedProducts\n    },\n  });\n});\n\nexport const addProduct = (product) => {\n  return (dispatch, getState) => {\n    const state = getState()\n    dispatch({ type: ADD_PRODUCT, payload: { product: JSON.stringify(product.assortment), displayName: product.displayName, locationDisplayName: product.locationDisplayName } })\n    getUpdatedDataForProduct(state, dispatch, JSON.stringify(product.assortment), product.displayName)\n  }\n}\n\nexport const loadData = () => {\n  return (dispatch, getState) => {\n    const state = getState()\n    dispatch(someThenableThunk())\n      .then(() => {\n        getRegionData(state, dispatch)\n        getCalendarData(state, dispatch)\n        // getUpdatedData(state, dispatch)\n        getData(2019, getGranularity(), state, dispatch)\n        getData(2020, getGranularity(), state, dispatch)\n      })\n    subscribeChanges(dispatch, state)\n  }\n}\n\nconst subscribeChanges = (dispatch, state) => {\n  let watchFilterPeriod = watch(store.getState, 'graph.filterPeriod')\n  store.subscribe(watchFilterPeriod((newVal, oldVal, objectPath) => {\n    getUpdatedData(store.getState(), dispatch)\n  }))\n  // let watchTimePeriod = watch(store.getState, 'graph.graphDomain')\n  // store.subscribe(watchTimePeriod((newVal, oldVal, objectPath) => {\n  //   if(newVal.filter(d => !oldVal.includes(d)).length) {\n  //     getUpdatedData(store.getState(), dispatch)\n  //   }\n  // }))\n}\n\nconst getUpdatedData = (state, dispatch) => {\n  getData(2019, getGranularity(), state, dispatch)\n  getData(2020, getGranularity(), state, dispatch)\n  // const initialYear = state.graph.graphDomain[0].slice(0, 4)\n  // const endYear = state.graph.graphDomain[1].slice(0, 4)\n  // if (initialYear === moment().subtract(1, 'year').format('YYYY')) {\n  // if(!dataPresent(initialYear, state)) {\n  // getData(initialYear, getGranularity(), state, dispatch)\n  // }\n  // }\n  // if (endYear === moment().format('YYYY')) {\n  // if (!dataPresent(endYear, state)) {\n  // getData(endYear, getGranularity(), state, dispatch)\n  // }\n  // }\n}\n\nconst getUpdatedDataForProduct = (state, dispatch, assortment, displayName) => {\n  const initialYear = state.graph.graphDomain[0].slice(0, 4)\n  const endYear = state.graph.graphDomain[1].slice(0, 4)\n  if (initialYear === moment().subtract(1, 'year').format('YYYY')) {\n    getDataForProduct(initialYear, state, dispatch, assortment, displayName)\n  }\n  if (endYear === moment().format('YYYY')) {\n    getDataForProduct(endYear, state, dispatch, assortment, displayName)\n  }\n}\n\nconst getData = (year, granularity, state, dispatch) => {\n  state.graph.savedProducts.forEach((product) => {\n    getDataForProduct(year, state, dispatch, product.product, product.displayName)\n  })\n}\n\nconst getDataForProduct = (year, state, dispatch, product, displayName) => {\n  URLS.forEach(value => {\n    if ((String(year) === String(2019) || getGranularity() === 'weekly') && value.url.includes('SAS')) {\n      return null\n    }\n    startRequest(dispatch, state)\n    axios.get(value.url, { params: { year: value.last_year ? year - 1 : year, time_granularity: getGranularity(), ...JSON.parse(product) } }).then(response => {\n      dispatch({\n        type: UPDATE_CALENDAR_DATA,\n        payload: {\n          data: response.data\n        }\n      })\n      dispatch({\n        type: UPDATE_DATA,\n        payload: {\n          data: response.data,\n          helper: value.helper,\n          product: product,\n          year: year,\n          granularity: getDataKey()\n        }\n      })\n      endRequest(dispatch)\n    })\n  })\n}\n\nexport const getMerchData = (locationData) => {\n  return (dispatch, getState) => {\n    const state = getState()\n    startRequest(dispatch, state)\n    axios.get(`${HOST}/Master_Static_Info/merchandise-hierarchy-structure/`, { params: locationData }).then(response => {\n      dispatch({\n        type: UPDATE_MERCH_DATA,\n        payload: {\n          data: response.data\n        }\n      })\n      endRequest(dispatch)\n    })\n  }\n}\n\nconst getRegionData = (state, dispatch) => {\n  startRequest(dispatch, state)\n  axios.get(`${HOST}/Master_Static_Info/location-hierarchy-structure/`).then(response => {\n    dispatch({\n      type: UPDATE_REGION_DATA,\n      payload: {\n        data: response.data\n      }\n    })\n    endRequest(dispatch)\n  })\n}\n\nconst getCalendarData = (state, dispatch) => {\n  startRequest(dispatch, state)\n  axios.get(`${HOST}/KPI/demand-units-LY/`, { params: { year: 2019, time_granularity: 'weekly', region: 'LSA', brand: 'LEVIS' } }).then(response => {\n    dispatch({\n      type: UPDATE_CALENDAR_DATA,\n      payload: {\n        data: response.data\n      }\n    })\n    endRequest(dispatch)\n  })\n}\n\n// const dataPresent = (year, state) => {\n//   if (state.graph.filterPeriod === 'week' || state.graph.filterPeriod === 'month') {\n//     return !!(Object.values(state.product.products)[0] && Object.values(state.product.products)[0].data.find(({ date }) => date.slice(0, 4) === year))\n//   } else {\n//     return !!(Object.values(state.product.products)[0] && Object.values(state.product.products)[0].weekly_data.find(({ date }) => date.slice(0, 4) === year))\n//   }\n// }\n","import { SHOW_ASSORT_BROWSER, HIDE_ASSORT_BROWSER, SHOW_FLASH_MESSAGE, HIDE_FLASH_MESSAGE, SHOW_CONFIRM_BOX, HIDE_CONFIRM_BOX, SHOW_LOADER, HIDE_LOADER } from 'utils/types'\n\nexport const showConfirmBox = (subject, body) => {\n  return {\n    type: SHOW_CONFIRM_BOX,\n    payload: { body: body, subject: subject }\n  }\n}\nexport const hideConfirmBox = () => {\n  return {\n    type: HIDE_CONFIRM_BOX,\n    payload: false\n  }\n}\n\nexport const showFlashMessage = (message, severity) => {\n  return {\n    type: SHOW_FLASH_MESSAGE,\n    payload: { message: message, severity: severity }\n  }\n}\n\nexport const hideFlashMessage = () => {\n  return {\n    type: HIDE_FLASH_MESSAGE,\n    payload: false\n  }\n}\n\nexport const showAssortBrowser = () => {\n  return {\n    type: SHOW_ASSORT_BROWSER,\n    payload: true\n  }\n}\n\nexport const hideAssortBrowser = () => {\n  return {\n    type: HIDE_ASSORT_BROWSER,\n    payload: false\n  }\n}\n\nexport const showLoader = () => {\n  return {\n    type: SHOW_LOADER,\n    payload: false\n  }\n}\n\nexport const hideLoader = () => {\n  return {\n    type: HIDE_LOADER,\n    payload: false\n  }\n}\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { getMerchData, addProduct } from 'actions/loadGraphData'\nimport { showFlashMessage } from 'actions/home'\nimport deepmerge from 'deepmerge'\n\nimport {\n  Typography,\n} from \"@material-ui/core\"\n\nimport \"./RecommendedProducts.scss\"\n\nclass RecommendedProducts extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      productsList: [\n        {\n          locations: [{ displayName: 'LSA', key: 'lsa' }],\n          merchs: [{ displayName: 'LEVIS', key: 'levis' }, { displayName: 'WOMENS', key: 'WOMENS' }],\n          key: { region: 'LSA', brand: 'LEVIS', consumer: 'WOMENS' },\n          locationDisplayName: 'LSA',\n          displayName: \"LSA Levi’s Womens\",\n          uniqueId: 1,\n          visible: false\n        },\n        {\n          locations: [{ displayName: 'LSA', key: 'lsa' }],\n          merchs: [{ displayName: 'LEVIS', key: 'levis' }, { displayName: 'MENS', key: 'MENS' }],\n          key: { region: 'LSA', brand: 'LEVIS', consumer: 'MENS' },\n          locationDisplayName: 'LSA',\n          displayName: \"LSA Levi’s Mens\",\n          uniqueId: 2,\n          visible: false\n        },\n        {\n          locations: [{ displayName: 'LSE', key: 'lse' }],\n          merchs: [{ displayName: 'LEVIS', key: 'levis' }, { displayName: 'MENS', key: 'MENS' }],\n          key: { region: 'LSE', brand: 'LEVIS', consumer: 'MENS' },\n          locationDisplayName: 'LSE',\n          displayName: \"LSE Levi’s Mens\",\n          uniqueId: 3,\n          visible: false\n        },\n        {\n          locations: [{ displayName: 'LSE', key: 'lse' }],\n          merchs: [{ displayName: 'LEVIS', key: 'levis' }, { displayName: 'WOMENS', key: 'WOMENS' }],\n          key: { region: 'LSE', brand: 'LEVIS', consumer: 'WOMENS' },\n          locationDisplayName: 'LSE',\n          displayName: \"LSE Levi’s Womens\",\n          uniqueId: 1,\n          visible: false\n        },\n        {\n          locations: [{ displayName: 'AMA', key: 'ama' }],\n          merchs: [{ displayName: 'LEVIS', key: 'levis' }, { displayName: 'MENS', key: 'MENS' }],\n          key: { region: 'AMA', brand: 'LEVIS', consumer: 'MENS' },\n          locationDisplayName: 'AMA',\n          displayName: \"AMA Levi’s Mens\",\n          uniqueId: 3,\n          visible: false\n        },\n        {\n          locations: [{ displayName: 'AMA', key: 'ama' }],\n          merchs: [{ displayName: 'LEVIS', key: 'levis' }, { displayName: 'WOMENS', key: 'WOMENS' }],\n          key: { region: 'AMA', brand: 'LEVIS', consumer: 'WOMENS' },\n          locationDisplayName: 'AMA',\n          displayName: \"AMA Levi’s Womens\",\n          uniqueId: 1,\n          visible: false\n        }\n      ]\n    }\n  }\n\n  handleOnMerchSelection = (assortment) => {\n    this.props.addProduct({ assortment: assortment.key, locationDisplayName: assortment.locationDisplayName, displayName: assortment.displayName })\n    this.props.showFlashMessage('Assortment successfully added', 'success')\n  }\n\n  componentWillReceiveProps(props) {\n    let prList = deepmerge.all([this.state.productsList])\n    const locationsName = props.graph.savedProducts.map((pr) => pr.locationDisplayName)\n    const savedDisplayName = props.graph.savedProducts.map((pr) => pr.displayName)\n    prList.forEach((pr) => {\n      if(!(savedDisplayName.includes(pr.displayName) && locationsName.includes(pr.locationDisplayName))) {\n        pr.visible = true\n      } else {\n        pr.visible = false\n      }\n    })\n    this.setState({ productsList: prList })\n  }\n\n  render() {\n\n    return (\n      <div className='recommended-products'>\n        {this.state.productsList.find((pr) => pr.visible) && <div>\n          <Typography variant=\"h3\"> Quick Add Merchandise & Location Views </Typography>\n          <div className=\"products-list\">\n            { this.state.productsList.map((product) => {\n              return (<>\n                {product.visible && <div className=\"product-list\" key={product.uniqueId} onClick={() => this.handleOnMerchSelection(product)}>\n                    <div className=\"m-r-10\">\n                      { product.key.region === 'LSA' && <img src=\"images/lsa-globe.svg\" alt='group' />}\n                      { product.key.region === 'LSE' && <img src=\"images/lse-globe.svg\" alt='group' />}\n                      { product.key.region === 'AMA' && <img src=\"images/ama-globe.svg\" alt='group' />}\n                    </div>\n                    <div className=\"merchandise-value d-flex\">\n                      <ul className=\"\">\n                        <Typography variant=\"h5\">Location</Typography>\n                        {product.locations.map((location) => {\n                          return (\n                            <li className=\"loc-result\" key={location.key}>\n                              {location.displayName}\n                            </li>\n                          )\n                        }) }\n                      </ul>\n                      <ul>\n                      <Typography variant=\"h6\">Merchandise</Typography>\n                    {product.merchs.map((merch) => {\n                      return (\n                        <li className=\"loc-result\" key={merch.key}>\n                          {merch.displayName}\n                        </li>\n                      )\n                    }) }\n                    </ul>\n                  </div>\n                </div>}\n              </>)\n            }) }\n          </div>\n        </div>}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    home: state.home,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, { getMerchData, addProduct, showFlashMessage })(RecommendedProducts);\n","import { LOGIN_TYPE, LOGOUT_TYPE, SHOW_FLASH_MESSAGE } from 'utils/types'\nexport const AUTH = {\n  email: 'sawan@vinsol.com',\n  password: 'qwqwqwqw'\n}\n\nexport const AuthenticateUser = (email, pwd) => {\n  let isLoggedIn = (AUTH['email'] === email && AUTH['password'] === pwd)\n  if (isLoggedIn) {\n    return {\n      type: LOGIN_TYPE,\n      payload: { email, pwd }\n    }\n  } else {\n    return {\n      type: SHOW_FLASH_MESSAGE,\n      payload: { message: 'Wrong email/password', severity: 'error' }\n    }\n  }\n}\n\nexport const logOutUser = () => {\n  return {\n    type: LOGOUT_TYPE,\n    payload: false\n  }\n}\n","import React, { Component } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { connect } from 'react-redux';\nimport { logOutUser } from 'actions/authentication/login'\n\nimport \"./Navbar.scss\"\n\nclass Navbar extends Component {\n  render() {\n    return (\n      <div className=\"navbar shadow\">\n        <Link to=\"/dashboard\" className=\"home\">\n          <img className=\"full-width\" alt=\"home\" src=\"/images/levis-logo.png\" />\n        </Link>\n        <Link to=\"/dashboard\" className=\"links dashboard active\">\n          <span>dashboard</span>\n        </Link>\n        <Link to=\"/\" className='links exit' onClick={() => this.props.logOutUser()}>\n          <span>exit</span>\n        </Link>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return { }\n}\n\nexport default connect(mapStateToProps, { logOutUser })(Navbar);\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport {\n  FormControl,\n  Select,\n  MenuItem\n} from \"@material-ui/core\"\nimport { updateFilterPeriod } from 'actions/graph'\n\nclass TimeRangeSelector extends Component {\n  render() {\n    return (\n      <FormControl variant=\"filled\">\n        <Select\n          labelId=\"demo-simple-select-filled-label\"\n          id=\"demo-simple-select-filled\"\n          value={this.props.graph.filterPeriod}\n\n          onChange={(event, newFilterPeriod) => this.props.updateFilterPeriod(newFilterPeriod.props.value)}\n        >\n          <MenuItem value='year'>YEAR</MenuItem>\n          <MenuItem value='season'>HALF</MenuItem>\n          <MenuItem value='quarter'>QUARTER</MenuItem>\n          <MenuItem value='month'>MONTH</MenuItem>\n          <MenuItem value='week'>WEEK</MenuItem>\n        </Select>\n      </FormControl>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, { updateFilterPeriod })(TimeRangeSelector);\n","import { startRequest, endRequest } from 'actions/axiosConfig';\nimport axios from 'axios';\nimport { TOGGLE_ALERT,\n  UPDATE_FILTER_PERIOD,\n  SHOW_ASSORTMENT_ALERTS,\n  HIDE_ASSORTMENT_ALERTS,\n  SHOW_ASSORTMENT_VARIABLES,\n  HIDE_ASSORTMENT_VARIABLES,\n  UPDATE_VARIABLE_DATA,\n  GOTO_PREVIOUS,\n  GOTO_NEXT,\n  GOTO_CURRENT,\n  REMOVE_PRODUCT,\n  HANDLE_SELECTED_PRODUCT_CHANGE } from 'utils/types';\nimport { getDataKey } from 'utils/map_filter_type_display'\nimport { AUTH } from 'actions/authentication/login'\n\nimport HOST from './config';\n\nexport const toggleAlert = () => {\n  return {\n    type: TOGGLE_ALERT,\n    payload: false\n  }\n}\n\nexport const updateFilterPeriod = (val) => {\n  return {\n    type: UPDATE_FILTER_PERIOD,\n    payload: val\n  }\n}\n\nexport const showAssortmentAlerts = (product_id) => {\n  return {\n    type: SHOW_ASSORTMENT_ALERTS,\n    payload: product_id\n  }\n}\n\nexport const hideAssortmentAlerts = () => {\n  return {\n    type: HIDE_ASSORTMENT_ALERTS,\n    payload: false\n  }\n}\n\nexport const showAssortmentVariables = (product_id, activeTooltipIndex) => {\n  return {\n    type: SHOW_ASSORTMENT_VARIABLES,\n    payload: {\n      product_id: product_id,\n      activeTooltipIndex: activeTooltipIndex\n    }\n  }\n  // return (dispatch, getState) => {\n    // const state = getState()\n    // startRequest(dispatch, state)\n    // dispatch({\n    //   type: SHOW_ASSORTMENT_VARIABLES,\n    //   payload: {\n    //     product_id: product_id,\n    //     activeTooltipIndex: activeTooltipIndex\n    //   }\n    // })\n    // axios.get('https://vinsol-lev-json-server.herokuapp.com/variable-importance').then(response => {\n    //   endRequest(dispatch)\n    // })\n  // }\n}\n\nexport const hideAssortmentVariables = () => {\n  return {\n    type: HIDE_ASSORTMENT_VARIABLES,\n    payload: false\n  }\n}\n\nexport const updateVariableData = ({demand, sellout}) => {\n  return (dispatch, getState) => {\n    const state = getState()\n    startRequest(dispatch, state)\n    const products = state.product.products\n    const productKey = Object.entries(products).find(([key, product]) => product.selected)[0]\n    const datum = products[productKey][getDataKey()][state.product.activeTooltipIndex]\n    axios.post(`${HOST}/KPI/overriding-input/`,\n      {\n        selected_merchandise_combination: { ...JSON.parse(productKey) },\n        override_value: {\n          adjusted_demand: Number(demand),\n          sell_out: Number(sellout)\n        },\n        user: AUTH.email,\n        selected_period: datum.date\n      }\n    )\n    dispatch({\n      type: UPDATE_VARIABLE_DATA,\n      payload: {\n        demand: demand,\n        sellout: sellout,\n        dataKey: getDataKey()\n      }\n    })\n    endRequest(dispatch)\n  }\n}\n\nexport const gotoPreviousDate = () => {\n  return {\n    type: GOTO_PREVIOUS,\n    payload: true\n  }\n}\n\nexport const gotoNextDate = () => {\n  return {\n    type: GOTO_NEXT,\n    payload: true\n  }\n}\n\nexport const gotoCurrentDate = () => {\n  return {\n    type: GOTO_CURRENT,\n    payload: true\n  }\n}\nexport const handleSelectedProductChange = (val) => {\n  return {\n    type: HANDLE_SELECTED_PRODUCT_CHANGE,\n    payload: val\n  }\n}\n\nexport const removeAssortment = (key) => {\n  return {\n    type: REMOVE_PRODUCT,\n    payload: key\n  }\n}\n","import { GraphHelper } from 'utils/graphHelper'\nimport { store } from 'utils/configureStore';\n\nexport const datumForTime = (data) => {\n  let dataKPI = Object.keys(GraphHelper).find((kpi) => {\n    return data[kpi]\n  })\n  return data[dataKPI]\n}\n\nexport const productDataForTime = (date) => {\n  let data = null\n  Object.values(store.getState().product.products).forEach(product => {\n    data = product.data.find((datum) => datum.date === date)\n  })\n\n  return data && datumForTime(data)\n}\n","import moment from 'moment'\nimport { GetYearIndex, GetMonthIndex} from 'utils/getYearIndex'\nimport { getGranularity } from 'utils/map_filter_type_display'\nimport { productDataForTime } from 'utils/datumForTime'\n\nexport const getSeasonName = (val) => {\n  if (getFiscalNumber(val) === 1) {\n    return 'H1'\n  } else if (getFiscalNumber(val) === 7) {\n    return 'H2'\n  } else {\n    return ''\n  }\n}\n\nexport const getFirstQuarterName = (val) => {\n  if (getFiscalNumber(val) === 12 || getFiscalNumber(val) === 1) {\n    return 'Q1'\n  } else if (getFiscalNumber(val) === 4) {\n    return 'Q2'\n  } else if (getFiscalNumber(val) === 7) {\n    return 'Q3'\n  } else if (getFiscalNumber(val) === 10) {\n    return 'Q4'\n  } else {\n    return ''\n  }\n}\n\nexport const getSecondQuarterName = (val) => {\n  if (getFiscalNumber(val) === 3) {\n    return 'Q1'\n  } else if (getFiscalNumber(val) === 6) {\n    return 'Q2'\n  } else if (getFiscalNumber(val) === 9) {\n    return 'Q3'\n  } else if (getFiscalNumber(val) === 12) {\n    return 'Q4'\n  } else {\n    return ''\n  }\n}\n\nexport const getFirstMonthName = (val) => {\n  const fiscalNumber = getFiscalNumber(val)\n  var fiscalWeek = fiscalNumber > 52 ? fiscalNumber - 52 : fiscalNumber\n  const momentWeek = moment(fiscalWeek, 'WW')\n  if ((momentWeek.weeks() - moment(fiscalWeek, 'WW').add(0, 'month').startOf('month').weeks() + 1) === 2) {\n    return momentWeek.add(1, 'months').format('MMM')\n  } else {\n    return ''\n  }\n}\n\nexport const getSecondMonthName = (val) => {\n  const fiscalNumber = getFiscalNumber(val)\n  var fiscalWeek = fiscalNumber > 52 ? fiscalNumber - 52 : fiscalNumber\n  const momentWeek = moment(fiscalWeek, 'WW')\n  if ((momentWeek.weeks() - moment(fiscalWeek, 'WW').add(0, 'month').startOf('month').weeks() + 1) === 2) {\n    return momentWeek.format('MMM')\n  } else {\n    return ''\n  }\n}\n\n\nconst getWeekName = (val) => {\n  if (val > 52) {\n    return `FW ${val - 52}`\n  }\n  return `FW ${val}`\n}\n\nconst getYear = (graphDomain) => {\n  return ' ' + graphDomain.slice(0, 4)\n}\n\nconst getFiscalNumber = (val) => {\n  var fiscal\n  if (getGranularity() === 'weekly') {\n    fiscal = val - GetYearIndex(val.slice(0, 4))\n    return fiscal > 52 ? fiscal - 52 : fiscal\n  } else {\n    fiscal = val - GetMonthIndex(val.slice(0, 4))\n    return fiscal > 12 ? fiscal - 12 : fiscal\n  }\n}\n\nexport const getTimeRange = (graphDomain, filterPeriod) => {\n  switch (filterPeriod) {\n    case 'year':\n      return graphDomain[0].slice(0, 4)\n    case 'season':\n      return getSeasonName(graphDomain[0]) + getYear(graphDomain[0])\n    case 'quarter':\n      return getFirstQuarterName(graphDomain[0]) + getYear(graphDomain[0]) + ' - ' + getSecondQuarterName(graphDomain[1]) + getYear(graphDomain[1])\n    case 'month':\n      return (productDataForTime(graphDomain[0]) && productDataForTime(graphDomain[1])) ? (productDataForTime(graphDomain[0]).fisc_month_name + ' ' + String(productDataForTime(graphDomain[0]).fisc_month).slice(0, 4) + ' - ' + productDataForTime(graphDomain[1]).fisc_month_name + ' ' + String(productDataForTime(graphDomain[1]).fisc_month).slice(0, 4)) : ''\n    case 'week':\n      return 'FW' + graphDomain[0].slice(4, 6) + getYear(graphDomain[0]) + ' - FW' + graphDomain[1].slice(4, 6) + getYear(graphDomain[1])\n    default:\n      break;\n  }\n}\n","import moment from 'moment'\nimport { getGranularity } from 'utils/map_filter_type_display'\n\nconst getCurrentWeek = () => {\n  if (getGranularity() === 'weekly') {\n    return Number(moment().format('WW')) + 52;\n  } else {\n    return Number(moment().format('MM')) + 12;\n  }\n}\n\nexport default getCurrentWeek\n","import { getDataKey } from 'utils/map_filter_type_display'\nimport { varianceExceedsThreshhold } from 'utils/getVariance'\n\nexport const alertList = (assortment) => {\n  return assortment[getDataKey()].filter((data) => {\n    if (data.sell_out_units_ytg && data.sell_out_units_ytg.KPI && data.sell_out_units_sas && data.sell_out_units_sas.KPI && varianceExceedsThreshhold(data.sell_out_units_ytg.KPI, data.sell_out_units_sas.KPI)) {\n      return true\n    }\n    if (data.demand_units_ytg && data.demand_units_ytg.KPI && data.demand_units_sas && data.demand_units_sas.KPI && varianceExceedsThreshhold(data.demand_units_ytg.KPI, data.demand_units_sas.KPI)) {\n      return true\n    }\n\n    return false\n  })\n}\n","import { store } from 'utils/configureStore';\nimport React from \"react\"\n\nexport const assortmentNameJSON = (assortment) => {\n  const state = store.getState()\n  const product = state.graph.savedProducts.find((pr) => pr.product === assortment)\n  return JSON.parse(product.product)\n}\n\nexport const assortmentName = (assortment) => {\n  const state = store.getState()\n  const product = state.graph.savedProducts.find((pr) => pr.product === assortment)\n  const productName = JSON.parse(product.product)\n  return (<>\n    <div className=\"prod-region\">\n      <span className=\"heading\">Location</span>\n      <span className='bold'> {productName.region} </span>\n      { productName.affiliate && <span> {productName.affiliate} </span> }\n      { productName.channel && <span> {productName.channel} </span> }\n      { productName.planning_group_name && <span> {productName.planning_group_name} </span> }\n    </div>\n    <div className=\"prod-brand\">\n      <span className=\"heading\">Merchandise</span>\n      {<span className='bold'> {productName.brand} </span>}\n      {productName.consumer && <span> {productName.consumer} </span>}\n      {productName.category && <span> {productName.category} </span>}\n    </div>\n  </>)\n}\n\nexport const assortmentNameWithoutStyling = (assortment) => {\n  const state = store.getState()\n  const product = state.graph.savedProducts.find((pr) => pr.product === assortment)\n  return product.displayName + '/ ' + product.locationDisplayName\n}\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Typography,\n} from \"@material-ui/core\"\n\nimport { Error as ErrorIcon, Close as CloseIcon } from \"@material-ui/icons\"\nimport { hideAssortmentAlerts } from 'actions/graph'\nimport { getGranularity } from 'utils/map_filter_type_display'\nimport moment from 'moment'\nimport \"./AssortmentDetailsDialog.scss\"\nimport { alertList } from 'utils/alertList'\nimport { assortmentName } from 'utils/assortmentName'\nimport { varianceExceedsThreshhold, displayVariance, getVariance } from 'utils/getVariance'\n\nclass AssortmentDetailsDialog extends Component {\n  getPointName(time) {\n    if (getGranularity() === 'weekly') {\n      return time.slice(4, 6)\n    } else {\n      return moment(time.slice(4, 6), 'MM').format('MMMM')\n    }\n  }\n\n  getSellOutAlertText(data) {\n    if (!data.sell_out_units_ytg || !data.sell_out_units_ytg.KPI) {\n      return ''\n    }\n    if (!data.sell_out_units_sas || !data.sell_out_units_sas.KPI) {\n      return ''\n    }\n    if (!varianceExceedsThreshhold(data.sell_out_units_ytg.KPI, data.sell_out_units_sas.KPI)) {\n      return ''\n    }\n    if (getVariance(data.sell_out_units_ytg.KPI, data.sell_out_units_sas.KPI) > 0) {\n      return \"Sell-Out Units Prediction exceeds Sell-Out Plan By : \" + displayVariance(data.sell_out_units_ytg.KPI, data.sell_out_units_sas.KPI) + '%';\n    } else {\n      return \"Sell-Out Units Prediction is less than Sell-Out Plan By : \" + displayVariance(data.sell_out_units_ytg.KPI, data.sell_out_units_sas.KPI) + '%';\n    }\n  }\n\n  getDemandAlertText(data) {\n    if (!data.demand_units_ytg || !data.demand_units_ytg.KPI) {\n      return ''\n    }\n    if (!data.demand_units_sas || !data.demand_units_sas.KPI) {\n      return ''\n    }\n\n    if (!varianceExceedsThreshhold(data.demand_units_ytg.KPI, data.demand_units_sas.KPI)) {\n      return ''\n    }\n      // return \"Demand Variance is: \" + displayVariance(data.demand_units_ytg, data.demand_units_sas) + '%';\n    if (getVariance(data.demand_units_ytg.KPI, data.demand_units_sas.KPI) > 0) {\n      return \"Demand Prediction exceeds Demand Plan By : \" + displayVariance(data.demand_units_ytg.KPI, data.demand_units_sas.KPI) + '%';\n    } else {\n      return \"Demand Prediction is less than Demand Plan By : \" + displayVariance(data.demand_units_ytg.KPI, data.demand_units_sas.KPI) + '%';\n    }\n  }\n\n  assortmentNotifications(assortment) {\n    return (\n      <ul className=\"paper notifications simple\">\n        <Typography variant=\"h3\">\n          <ErrorIcon />\n          Alerts\n        </Typography>\n        {alertList(assortment) && alertList(assortment).length ? (\n          alertList(assortment).map((notification, index) => {\n            return (\n              <li key={index}>\n                <div>\n                  Year {notification.date.slice(0, 4)} - {getGranularity() === 'weekly' ? 'Week' : 'Month'} {this.getPointName(notification.date)}\n                  <Typography>\n                    {this.getSellOutAlertText(notification)}\n                  </Typography>\n                  <Typography>\n                    {this.getDemandAlertText(notification)}\n                  </Typography>\n                </div>\n              </li>\n            )\n          })\n        ) : (\n            <li>\n              <Typography>No alerts</Typography>\n            </li>\n          )}\n      </ul>\n    )\n  }\n\n  handleClose() {\n    this.props.hideAssortmentAlerts()\n  }\n\n  render() {\n\n    const assortment = (this.props.selectedAssortment && this.props.selectedAssortment[1]) || {}\n\n    return (\n      <Dialog\n        aria-labelledby=\"dialog-title\"\n        open={this.props.showProductAlert}\n        className=\"assortment-details-dialog category-title dialog alert-dialog-modal\"\n        maxWidth=\"md\"\n      >\n        {this.props.showProductAlert && <DialogTitle id=\"dialog-title\">\n          <div className=\"dialog-sec merchandise-val\">\n            {/* <img\n              width=\"48px\"\n              alt={assortment.detail.name}\n              src={`https://lsco.scene7.com/is/image/lsco/levis/clothing/${assortment.detail.image_id ||\n                assortment.detail.id}-front-pdp.jpg?$grid_desktop_bottoms$`}\n            /> */}\n            {assortmentName(this.props.selectedAssortment[0])}\n          </div>\n          <IconButton size=\"small\" onClick={() => this.handleClose()}>\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>}\n\n        {this.props.showProductAlert && <DialogContent>\n          <div className=\"\">\n            {this.assortmentNotifications(assortment)}\n          </div>\n        </DialogContent>}\n      </Dialog>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    selectedAssortment: Object.entries(state.product.products).find(([key, product]) => product.selected),\n    showProductAlert: state.product.showProductAlert\n  }\n}\n\nexport default connect(mapStateToProps, { hideAssortmentAlerts })(AssortmentDetailsDialog);\n","import React from \"react\"\n\nexport function CheckBoxUnchecked(props) {\n  return (<svg width={props.size || \"32\"} height={props.size || \"32\"} viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"1\" y=\"1\" width=\"30\" height=\"30\" rx=\"1\" stroke={props.color} strokeWidth=\"2\" />\n  </svg>)\n}\n","import React from \"react\"\n\nexport function CheckBoxChecked(props) {\n  return (<svg className=\"filled-icon\" width={props.size} height={props.size} viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.2273 9.52275L17.9091 16.2046L32 2.11366V2C32 0.895431 31.1046 0 30 0H2C0.895431 0 0 0.895431 0 2V30C0 31.1046 0.895431 32 2 32H30C31.1046 32 32 31.1046 32 30V6.5682L17.9091 20.6591L9 11.75L11.2273 9.52275Z\" fill={\"url(#paint\" + props.index + \"_linear)\"} />\n    <defs>\n      <linearGradient id={\"paint\" + props.index + \"_linear\" } x1=\"32\" y1=\"-21\" x2=\"0\" y2=\"43\" gradientUnits=\"userSpaceOnUse\">\n        <stop stopColor={ props.color1 } />\n        <stop offset=\"1\" stopColor={ props.color2 } />\n      </linearGradient>\n    </defs>\n  </svg>\n)\n}\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\nimport { toggleAlert } from 'actions/graph'\nimport { CheckBoxUnchecked } from 'components/shared/icons/checkbox_unchecked'\nimport { CheckBoxChecked } from 'components/shared/icons/checkbox_checked'\n\nclass ToggleAlert extends Component {\n  render() {\n    return (\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={this.props.graph.showAlert}\n            onChange={() => this.props.toggleAlert()}\n            name=\"toggleAlert\"\n            icon={<CheckBoxUnchecked size={'14px'} color={'#FF0000'} index={354} />}\n            checkedIcon={<CheckBoxChecked size={'14px'} color1={'#FF0000'} color2={'#740505'} index={354} />}\n          />\n        }\n        label=\"Show Alerts\"\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, { toggleAlert })(ToggleAlert);\n","import { getGranularity } from 'utils/map_filter_type_display'\nimport moment from 'moment'\nimport { store } from 'utils/configureStore';\nimport { getDataKey } from 'utils/map_filter_type_display'\nimport { datumForTime } from 'utils/datumForTime'\n\nexport const getFiscalNumber = (val) => {\n  if (getGranularity() === 'weekly') {\n    return val > 52 ? val - 52 : val\n  } else {\n    return val > 12 ? val - 12 : val\n  }\n}\n\nexport const getWeekName = (val) => {\n  if (getGranularity() === 'weekly') {\n    let weekData = Object.values(store.getState().product.products)[0][getDataKey()].find((data) => data.g_index === val)\n    return (weekData && datumForTime(weekData)) ? \"FW \" + String(datumForTime(weekData).fisc_week).slice(4,6) : ''\n  } else {\n    let monthData = Object.values(store.getState().product.products)[0][getDataKey()].find((data) => data.g_index === val)\n    return (monthData && datumForTime(monthData)) ? datumForTime(monthData).fisc_month_name : ''\n  }\n}\n\nexport const withYear = (term, val, showYear) => {\n  if(showYear) {\n    return term + getProductYear(val)\n  } else {\n    return term\n  }\n}\n\nexport const getSeasonName = (val, showYear) => {\n  if (getFiscalNumber(val) === 1) {\n    return withYear('H1', val, showYear)\n  } else if (getFiscalNumber(val) === 7) {\n    return withYear('H2', val, showYear)\n  } else {\n    return ''\n  }\n}\n\nexport const getQuarterName = (val, showYear) => {\n  if (getFiscalNumber(val) === 1) {\n    return withYear('Q1', val, showYear)\n  } else if (getFiscalNumber(val) === 4) {\n    return withYear('Q2', val, showYear)\n  } else if (getFiscalNumber(val) === 7) {\n    return withYear('Q3', val, showYear)\n  } else if (getFiscalNumber(val) === 10) {\n    return withYear('Q4', val, showYear)\n  } else {\n    return ''\n  }\n}\n\nconst getProductYear = (val) => {\n  const products = store.getState().product.products\n  if (products && Object.values(products).length && Object.values(products)[0][getDataKey()].length && Object.values(products)[0][getDataKey()].find((data) => data.g_index === val)) {\n    return (' ' + Object.values(products)[0][getDataKey()].find((data) => data.g_index === val).date).slice(0, 5)\n  }\n  return ''\n}\n\nexport const getSecondAxisName = (val) => {\n  switch (store.getState().graph.filterPeriod) {\n    case 'year':\n      return ''\n    case 'season':\n      return getSeasonName(val)\n    case 'quarter':\n      return getQuarterName(val)\n    case 'month':\n      return getMonthName(val)\n    case 'week':\n      return getMonthName(val)\n    default:\n      break;\n  }\n\n  return getSeasonName(val)\n}\n\nexport const getSecondAxisNameWithYear = (val) => {\n  const datum = Object.values(store.getState().product.products)[0][getDataKey()].find((data) => data.g_index === val)\n  if(!datum) {\n    return ''\n  }\n\n  const dataKPI = datumForTime(datum)\n  if (!dataKPI) {\n    return ''\n  }\n  switch (store.getState().graph.filterPeriod) {\n    case 'year':\n      return ''\n    case 'season':\n      return getSeasonName(val, true)\n    case 'quarter':\n      return getQuarterName(val, true)\n    case 'month':\n      return getMonthName(val, dataKPI, true)\n    case 'week':\n      return getMonthName(val, dataKPI, true)\n    default:\n      break;\n  }\n\n  return getSeasonName(val)\n}\n\nexport const getWeekMappingByMonth = (month) => {\n  const weekMapping = Object.entries(store.getState().graph.calendarData).find((calendar, index) => {\n    return calendar[1]['fiscal_month'] === month\n  })\n  return weekMapping && weekMapping[0]\n}\n\nexport const getMonthName = (val, dataKPI, showYear) => {\n  var fiscalWeek = val > 52 ? val - 52 : val\n  const momentWeek = moment(fiscalWeek, 'WW')\n  const fiscalData = store.getState().graph.calendarData[momentWeek.format('YYYYWW')]\n  if (fiscalData && getWeekMappingByMonth(fiscalData['fiscal_month']) === momentWeek.format('YYYYWW')) {\n    return showYear ? dataKPI.fisc_month_name + ' ' + String(dataKPI.fisc_week).slice(0, 4) : dataKPI.fisc_month_name\n  } else {\n    return ''\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { getGranularity } from 'utils/map_filter_type_display'\nimport { GetYearIndex, GetMonthIndex } from 'utils/getYearIndex'\nimport ToggleAlert from 'components/dashboard/assortmentHelper/toggleAlert'\nimport { getWeekName, getSecondAxisNameWithYear } from 'utils/getTimeLineHelper'\n\nimport {\n  CartesianGrid,\n  LineChart,\n  ResponsiveContainer,\n  XAxis,\n  YAxis,\n  ReferenceLine\n} from \"recharts\";\n\nclass Timeline extends Component {\n  customizedTick = ({ x, y, stroke, payload }) => {\n    return (\n      <g transform={`translate(${x},${y})`}>\n        <text x={70} y={0} dy={20} fontSize={'12px'} textAnchor=\"end\">{getSecondAxisNameWithYear(payload.value)}</text>\n      </g>\n    )\n  }\n\n  customizedWeekTick = ({ x, y, stroke, payload }) => {\n    return (\n      <g transform={`translate(${x},${y})`}>\n        <text x={40} y={0} dy={20} fontSize={'12px'} textAnchor=\"end\">{getWeekName(payload.value)}</text>\n      </g>\n    )\n  }\n\n  getMaxWeek(dataMax) {\n    if (getGranularity() === 'weekly') {\n      return this.props.graph.graphDomain[1] - GetYearIndex(this.props.graph.graphDomain[1].slice(0, 4))\n    } else {\n      return this.props.graph.graphDomain[1] - GetMonthIndex(this.props.graph.graphDomain[1].slice(0, 4))\n    }\n  }\n\n  getMinWeek(dataMin) {\n    if (getGranularity() === 'weekly') {\n      return this.props.graph.graphDomain[0] - GetYearIndex(this.props.graph.graphDomain[0].slice(0, 4))\n    } else {\n      return this.props.graph.graphDomain[0] - GetMonthIndex(this.props.graph.graphDomain[0].slice(0, 4))\n    }\n  }\n\n  getTickCount() {\n    if (getGranularity() === 'weekly') {\n      return (this.props.graph.graphDomain[1] - GetYearIndex(this.props.graph.graphDomain[1].slice(0, 4))) - (this.props.graph.graphDomain[0] - GetYearIndex(this.props.graph.graphDomain[0].slice(0, 4)) - 1)\n    } else {\n      return (this.props.graph.graphDomain[1] - GetMonthIndex(this.props.graph.graphDomain[1].slice(0, 4))) - (this.props.graph.graphDomain[0] - GetMonthIndex(this.props.graph.graphDomain[0].slice(0, 4)) - 1)\n    }\n  }\n\n  render() {\n    const { data, theme, now } = this.props;\n\n\n    return (\n      <>\n        <li className=\"legend year chart-head\" key=\"legend-year\">\n          <span className=\"alert-sec\">\n            <ToggleAlert></ToggleAlert>\n          </span>\n          <ResponsiveContainer className=\"graph\">\n            <LineChart\n              data={data}\n              margin={{\n                top: 0,\n                right: 45,\n                left: 66,\n                bottom: 0\n              }}\n            >\n              <XAxis\n                dataKey=\"g_index\"\n                type=\"number\"\n                domain={[dataMin => { return this.getMinWeek(dataMin) }, dataMax => { return this.getMaxWeek(dataMax) }]}\n                tickFormatter={(val) => getSecondAxisNameWithYear(val)}\n                tickCount={this.getTickCount()}\n                orientation={'top'}\n                tickLine={true}\n                hide={false}\n                fontSize={'12px'}\n                mirror={false}\n                dx={20}\n                stroke='#d4d4d4'\n                tick={(tickData) => this.customizedTick(tickData)}\n                tickSize={20}\n              />\n\n              <YAxis hide={true} />\n              <CartesianGrid horizontal={true} />\n              <ReferenceLine\n                x={now}\n                stroke={theme.colorRef}\n                strokeWidth={theme.strokeWidth}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </li>\n        <li className=\"legend month\" key=\"legend-month\">\n          <ResponsiveContainer className=\"graph\">\n            <LineChart\n              data={data}\n              margin={{\n                top: 0,\n                right: 45,\n                left: 50,\n                bottom: 0\n              }}\n            >\n\n              <XAxis\n                dataKey=\"g_index\"\n                type=\"number\"\n                domain={[dataMin => { return this.getMinWeek(dataMin) }, dataMax => { return this.getMaxWeek(dataMax) }]}\n                tickFormatter={val => getWeekName(val)}\n                tickCount={this.getTickCount()}\n                orientation={'top'}\n                tick={(tickData) => this.customizedWeekTick(tickData)}\n                tickLine={false}\n                hide={false}\n                fontSize={'12px'}\n                dx={20}\n                tickSize={0}\n              />\n\n              <YAxis hide={true} />\n              <CartesianGrid horizontal={false} />\n              <ReferenceLine\n                x={now}\n                stroke={theme.colorRef}\n                strokeWidth={theme.strokeWidth}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </li>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, { })(Timeline);\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport { hideConfirmBox } from 'actions/home'\n\nclass ConfirmBox extends Component {\n\n  handleClose() {\n    this.props.hideConfirmBox()\n    this.props.onSave()\n  }\n\n\n  handleCancel() {\n    this.props.hideConfirmBox()\n    this.props.onCancel()\n  }\n\n  render() {\n\n    const { confirmBoxData } = this.props.shared\n\n    return (\n      <Dialog\n        open={confirmBoxData.open}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n        className=\"cu-confirm-box\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{confirmBoxData.subject}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {confirmBoxData.body}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"contained\" onClick={() => this.handleCancel()} color=\"primary\">\n            Cancel\n          </Button>\n          <Button className=\"theme-button\" variant=\"contained\" onClick={() => this.handleClose()} autoFocus>\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return { shared: state.shared }\n}\n\nexport default connect(mapStateToProps, { hideConfirmBox })(ConfirmBox);\n\n","import React, { Component } from \"react\"\n\nimport {\n  BarChart,\n  Bar,\n  LabelList\n} from \"recharts\"\n\nimport { randomColor } from 'randomcolor'\n\nimport {\n  Dialog,\n  DialogContent,\n  Typography,\n  DialogTitle,\n  DialogActions,\n  IconButton,\n} from \"@material-ui/core\"\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport { showConfirmBox } from 'actions/home'\nimport { hideAssortmentVariables, updateVariableData } from 'actions/graph'\nimport getCurrentWeek from 'utils/getCurrentWeek'\nimport ConfirmBox from 'components/shared/confirmBox'\nimport { getDataKey, getGranularity } from 'utils/map_filter_type_display'\nimport { assortmentName } from 'utils/assortmentName'\nimport NumberFormat from 'react-number-format';\nimport { Close as CloseIcon } from \"@material-ui/icons\"\n\nimport \"./GraphDetailsDialog.scss\"\n\nconst CustomizedLabel = ({ payload, x, y, value }) => {\n  console.log(value)\n  return <text x={27} y={y} dy={(value * 125)} font-size=\"10px\" offset=\"5\" class=\"recharts-text recharts-label\" text-anchor=\"middle\">\n    <tspan>{value*100}</tspan>\n  </text>;\n}\nclass GraphDetailsDialog extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      demand: 0,\n      sellout: 0,\n      colors: {}\n    }\n  }\n\n  demandData(props) {\n    const selectedAssortment = (props.selectedAssortment && props.selectedAssortment[1]) || {}\n    const { activeTooltipIndex } = props.product\n    return Number((selectedAssortment[getDataKey()][activeTooltipIndex].demand_units_scatter || selectedAssortment[getDataKey()][activeTooltipIndex].demand_units_ytg || selectedAssortment[getDataKey()][activeTooltipIndex].demand_units_ytd).KPI)\n  }\n\n  selloutData(props) {\n    const selectedAssortment = (props.selectedAssortment && props.selectedAssortment[1]) || {}\n    const { activeTooltipIndex } = props.product\n    return Number((selectedAssortment[getDataKey()][activeTooltipIndex].sell_out_units_scatter || selectedAssortment[getDataKey()][activeTooltipIndex].sell_out_units_ytg || selectedAssortment[getDataKey()][activeTooltipIndex].sell_out_units_ytd).KPI)\n  }\n\n  componentWillReceiveProps(props, oldProps) {\n    const selectedAssortment = (props.selectedAssortment && props.selectedAssortment[1]) || {}\n    const { activeTooltipIndex } = props.product\n\n    if (props.product.showVariables && selectedAssortment[getDataKey()] && selectedAssortment[getDataKey()][activeTooltipIndex] && !this.state.demand) {\n      this.setState({ demand: this.demandData(props), sellout: this.selloutData(props) })\n    }\n  }\n\n  showAlert() {\n    this.props.showConfirmBox('Please Confirm!', \"Are you sure, you want to override the prediction?\")\n  }\n\n  handleSave() {\n    this.props.updateVariableData({ demand: this.state.demand, sellout: this.state.sellout })\n    this.handleClose()\n  }\n\n  handleClose() {\n    this.setState({ demand: 0, sellout: 0, colors: [] })\n    this.props.hideAssortmentVariables()\n  }\n\n  updateDemand({ formattedValue, value}) {\n    if (value > 0) {\n      this.setState({ demand: value })\n    }\n  }\n\n  updateSellout({ formattedValue, value }) {\n    if (value > 0) {\n      this.setState({ sellout: value })\n    }\n  }\n\n  getPointName(selectedAssortment, activeTooltipIndex) {\n    if (!selectedAssortment) {\n      return ''\n    }\n    const data = selectedAssortment[getDataKey()][activeTooltipIndex].sell_out_units_ytg || selectedAssortment[getDataKey()][activeTooltipIndex].sell_out_units_ytd\n    if(getGranularity() === 'weekly') {\n      return `${data.fisc_year} FISCAL WEEK ${String(data.fisc_week).slice(4,6)}`\n    } else {\n      return `${data.fisc_year} ${data.fisc_month_name}`\n      // return moment(selectedAssortment[getDataKey()][activeTooltipIndex]['date'].slice(4, 6), 'MM').format('MMMM')\n    }\n  }\n\n  isHistorical(selectedAssortment, activeTooltipIndex) {\n    if (!selectedAssortment) {\n      return ''\n    }\n    return selectedAssortment[getDataKey()][activeTooltipIndex].g_index <= Number(getCurrentWeek())\n  }\n\n  getHistoricalLabel(selectedAssortment, activeTooltipIndex) {\n    if (!selectedAssortment) {\n      return ''\n    }\n    return selectedAssortment[getDataKey()][activeTooltipIndex].g_index <= Number(getCurrentWeek()) ? 'Historical Values' : 'Predicted Values'\n  }\n\n  getDemandPieData() {\n    return this.getPieData('demand_units_ytd') || this.getPieData('demand_units_ytg')\n  }\n\n  getSellOutPieData() {\n    return this.getPieData('sell_out_units_ytd') || this.getPieData('sell_out_units_ytg')\n  }\n\n  getPieData(kpi) {\n    const selectedAssortment = (this.props.selectedAssortment && this.props.selectedAssortment[1])\n    // const colorList = {\n    //   \"ColumbusDay\": \"0.1\",\n    //   \"LaborDay\": \"0.1\",\n    //   \"MensPromoCalendar\": \"0.1\",\n    //   \"MidDecemberPeak\": \"0.1\",\n    //   \"USOtherHolidays\": \"0.1\",\n    //   \"DailySeasonality\": \"0.1\",\n    //   \"BlackFriday\": \"0.2\",\n    //   \"WeeklySeasonality\": \"0.1\",\n    //   \"Trend\": \"0.05\",\n    //   \"Seasonality\": \"0.05\",\n    // }\n    if (selectedAssortment && selectedAssortment[getDataKey()][this.props.product.activeTooltipIndex][kpi]) {\n      let colorList = []\n      const variable_importance = selectedAssortment[getDataKey()][this.props.product.activeTooltipIndex][kpi].variable_importance\n      Object.keys(variable_importance).forEach((varKey) => {\n        if (Number(variable_importance[varKey]) > 0) {\n          colorList[varKey] = variable_importance[varKey]\n        }\n      })\n\n      this.setColors(colorList)\n      return colorList\n    }\n    return []\n  }\n\n  setColors(colorList) {\n    Object.keys(colorList).forEach((color) => {\n      if (!this.state.colors[color]) {\n        let colorHash = {}\n        colorHash[color] = randomColor()\n        this.setState({ colors: { ...this.state.colors, ...colorHash } })\n      }\n      // this.state.colors[]\n    })\n  }\n\n  render() {\n    const selectedAssortment = (this.props.selectedAssortment && this.props.selectedAssortment[1]) || {}\n    const selectedAssortmentKey = (this.props.selectedAssortment && JSON.parse(this.props.selectedAssortment[0]))\n\n    const { showVariables, activeTooltipIndex } = this.props.product\n\n    return (\n      <>\n        {showVariables && <Dialog\n          aria-labelledby=\"dialog-title\"\n          open={showVariables}\n          className=\"assortment-graph-dialog dialog dialog-modal\"\n        >\n          <DialogTitle id=\"dialog-title\">\n            <IconButton size=\"small\" onClick={() => this.handleClose()}>\n              <CloseIcon />\n            </IconButton>\n          </DialogTitle>\n\n          <DialogContent>\n            <div className=\"\">\n\n              <div className=\"graph modal-graph\">\n                <Typography variant=\"h2\">\n                  {this.getPointName(selectedAssortment, activeTooltipIndex)}\n                </Typography>\n\n                <div>\n                  {this.props.selectedAssortment && <div className=\"merchandise-val\">\n                    <>\n                      {assortmentName(this.props.selectedAssortment[0])}\n                    </>\n                  </div>}\n                </div>\n\n                <div className=\"chart-modal-val align-center d-flex\">\n                  <div className=\"d-flex\">\n                    <div className=\"vertical-sec\">\n                      <Typography>100%</Typography>\n                      <Typography>50%</Typography>\n                      <Typography>0%</Typography>\n                    </div>\n                    <div className=\"chart-modal\">\n                      {selectedAssortment[getDataKey()] && <BarChart width={90} height={240} data={[this.getDemandPieData()]}\n                        margin={{ top: 5, right: 30, left: 0, bottom: 5 }}>\n                        { Object.keys(this.getDemandPieData()).map((var_imp) => {\n                          return (\n                            <Bar isAnimationActive={false} barSize={45} key={var_imp} stackId='demand' dataKey={var_imp} fill={this.state.colors[var_imp]}>\n                              <LabelList dataKey={var_imp} position=\"center\" content={CustomizedLabel} />\n                            </Bar>)\n                        }) }\n                      </BarChart>\n                      }\n                      <span className=\"chart-label\">Sell-Out</span>\n                    </div>\n\n                    <div className=\"chart-modal\">\n                      {selectedAssortment[getDataKey()] && <BarChart width={90} height={240} data={[this.getSellOutPieData()]}\n                        margin={{ top: 5, right: 30, left: 0, bottom: 5 }}>\n                        {Object.keys(this.getSellOutPieData()).map((var_imp) => {\n                          return (\n                            <Bar isAnimationActive={false} barSize={45} key={var_imp} stackId='sell_out_units' dataKey={var_imp} fill={this.state.colors[var_imp]}>\n                              <LabelList position=\"center\" dataKey={var_imp} content={CustomizedLabel} />\n                              {/* <LabelList dy={this.getSellOutPieData()[var_imp] * 85} x={28} fontSize={'10px'} dataKey={var_imp} position=\"bottom\" formatter={(val) => `${val * 100}%`} /> */}\n                            </Bar>)\n                        })}\n                      </BarChart>}\n                      <span className=\"chart-label\">Demand</span>\n                    </div>\n\n                    <div className=\"color-state\">\n                      {Object.keys(this.state.colors).map((colorKey) => {\n                        return(<div className=\"m-b-10 d-flex align-center\" style={{ color: this.state.colors[colorKey] }} key={colorKey}>\n                            <span style={{ background: this.state.colors[colorKey] }} key={colorKey}></span>\n                            <Typography>{colorKey}</Typography>\n                          </div>)\n                      })}\n                    </div>\n                  </div>\n\n                  <div className=\"chart-fileds\">\n\n                    {selectedAssortment[getDataKey()] && selectedAssortment[getDataKey()][activeTooltipIndex] && <ul>\n                      <li className=\"labels m-b-15-hard\">\n                        <Typography variant=\"h3\">Sell-Out</Typography>\n                        <Typography variant=\"h3\">Demand</Typography>\n                      </li>\n\n                      <li className=\"p-b-0-hard\">\n                        <Typography variant=\"h6\">{this.getHistoricalLabel(selectedAssortment, activeTooltipIndex)}</Typography>\n                        <Typography variant=\"h6\">{this.getHistoricalLabel(selectedAssortment, activeTooltipIndex)}</Typography>\n                      </li>\n\n                      <li className=\"no-editable\">\n                        <input\n                          name=\"graph-sellout-original\"\n                          id=\"graph-sellout-original\"\n                          readOnly\n                          value={Number((selectedAssortment[getDataKey()][activeTooltipIndex].sell_out_units_ytg || selectedAssortment[getDataKey()][activeTooltipIndex].sell_out_units_ytd).KPI).toLocaleString()}\n                        />\n                        <input\n                          name=\"graph-demand-original\"\n                          id=\"graph-demand-original\"\n                          readOnly\n                          value={Number((selectedAssortment[getDataKey()][activeTooltipIndex].demand_units_ytg || selectedAssortment[getDataKey()][activeTooltipIndex].demand_units_ytd).KPI).toLocaleString()}\n                        />\n                      </li>\n\n                      {selectedAssortmentKey['planning_group_name'] && selectedAssortmentKey['category'] && !this.isHistorical(selectedAssortment, activeTooltipIndex) && <div>\n\n                        <li className=\"p-b-0-hard\">\n                          <Typography variant=\"h6\">My Adjustments</Typography>\n                          <Typography variant=\"h6\">My Adjustments</Typography>\n                        </li>\n\n                        <li className=\"p-t-0\">\n                          <NumberFormat\n                            value={this.state.sellout}\n                            onValueChange={(values) => this.updateSellout(values)}\n                            allowNegative={false}\n                            thousandSeparator={true}\n                          />\n                          <NumberFormat\n                            value={this.state.demand}\n                            onValueChange={(values) => this.updateDemand(values)}\n                            allowNegative={false}\n                            thousandSeparator={true}\n                          />\n                        </li>\n                      </div>}\n                    </ul>}\n                    <DialogActions>\n                      {selectedAssortmentKey['planning_group_name'] && selectedAssortmentKey['category'] && !this.isHistorical(selectedAssortment, activeTooltipIndex) && <Button autoFocus onClick={() => this.showAlert()} color=\"primary\">\n                        Save\n                      </Button>}\n                    </DialogActions>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n          </DialogContent>\n\n        </Dialog>}\n        <ConfirmBox onSave={() => this.handleSave()} onCancel={() => this.handleClose()} />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    product: state.product,\n    selectedAssortment: Object.entries(state.product.products).find(([key, product]) => product.selected)\n  }\n}\n\nexport default connect(mapStateToProps, { showConfirmBox, hideAssortmentVariables, updateVariableData })(GraphDetailsDialog);\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Checkbox, FormControlLabel, Grid } from \"@material-ui/core\"\nimport { toggleKPI } from 'actions/kpiHandler'\nimport { CheckBoxUnchecked } from 'components/shared/icons/checkbox_unchecked'\nimport { CheckBoxChecked } from 'components/shared/icons/checkbox_checked'\n\nclass KPISelector extends Component {\n  render() {\n    const { graph_kpis } = this.props;\n\n    return (\n      <Grid container spacing={1}>\n        { Object.keys(graph_kpis).map((kpi, index) => {\n          const kpiData = graph_kpis[kpi]\n          return (\n            <div className=\"p-r-15\" key={kpi}>\n              <FormControlLabel\n                control={\n                  <Checkbox color=\"default\"\n                    icon={<CheckBoxUnchecked color={kpiData.style.color} index={index} />}\n                    checkedIcon={<CheckBoxChecked size={'32px'} color1={kpiData.style.color1} color2={kpiData.style.color2} index={index} />}\n                    checked={kpiData.selected}\n                    onChange={() => this.props.toggleKPI(kpi)}\n                  />\n                }\n                label={ kpiData.name }\n              />\n            </div>\n          )\n        }) }\n      </Grid>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    graph_kpis: state.graph.kpis\n  }\n}\n\nexport default connect(mapStateToProps, { toggleKPI })(KPISelector);\n\n","import { TOGGLE_KPI } from 'utils/types'\n\nexport const toggleKPI = (kpi) => {\n  return {\n    type: TOGGLE_KPI,\n    payload: { kpi: kpi }\n  }\n}\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { connect } from 'react-redux';\nimport { getMerchData, addProduct } from 'actions/loadGraphData'\nimport { showFlashMessage } from 'actions/home'\n\nimport {\n  Box,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Typography,\n  Input,\n} from \"@material-ui/core\"\n\nimport TreeItem from '@material-ui/lab/TreeItem';\nimport TreeView from '@material-ui/lab/TreeView';\n\nimport {\n  AddCircle as AddCircleIcon\n} from \"@material-ui/icons\"\n\nimport CheckBoxOutlineBlankRoundedIcon from '@material-ui/icons/CheckBoxOutlineBlankRounded';\nimport { CheckBoxChecked } from 'components/shared/icons/checkbox_checked'\nimport { CheckBoxIcon}  from '@material-ui/icons/CheckBox';\nimport RemoveCircleRoundedIcon from '@material-ui/icons/RemoveCircleRounded';\n\nimport \"./AssortmentBrowser.scss\"\n\nclass AssortmentBrowser extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      expanded: [],\n      node: {},\n      productResult: [],\n      result: [],\n      value: 0,\n      productBreadcrumb: [],\n      breadcrumb: [],\n      step: 0,\n      regionJson: {}\n    }\n  }\n\n  handleClose() {\n    this.setState({ productResult: [], step: 0, expanded: [], productBreadcrumb: [], breadcrumb: [], node: {} })\n    this.props.onClose()\n  }\n\n  handleChange = (event, nodes) => {\n    this.setState({ expanded: nodes })\n  };\n\n  handleOnSelection = (assortment, event, node) => {\n    this.setState({ regionJson: assortment, step: 1, productResult: [], expanded: [], productBreadcrumb: [], breadcrumb: [], node: node })\n    this.props.getMerchData(assortment)\n    event.stopPropagation()\n  }\n\n  handleOnMerchSelection = (assortment, event, displayName) => {\n    this.props.addProduct({ assortment: { ...this.state.regionJson, ...assortment }, locationDisplayName: this.state.node.displayName, displayName: displayName })\n    this.setState({ regionJson: {}, step: 0 })\n    this.props.showFlashMessage('Assortment successfully added', 'success')\n    this.handleClose()\n    event.stopPropagation()\n  }\n\n  treeViewLabel = (node) => {\n    return (\n      <div key={node.id}>\n        {node.name}\n        <IconButton\n          edge=\"end\"\n          aria-label=\"add\"\n          onClick={(e) => this.handleOnSelection(node.uniqueId, e, node)}\n        >\n          { node.displayName === this.state.node.displayName && <CheckBoxIcon size={'24'} color1={'#008000'} color2={'#0C580C'} index={20} /> }\n          { node.displayName !== this.state.node.displayName && <CheckBoxOutlineBlankRoundedIcon className=\"check-product\" /> }\n        </IconButton>\n      </div>\n    )\n  }\n\n  treeViewMerchLabel = (consumerVal) => {\n    return (\n      <div key={consumerVal.id}>\n        {consumerVal.name}\n        <IconButton\n          edge=\"end\"\n          aria-label=\"add\"\n          onClick={(e) => this.handleOnMerchSelection(consumerVal.uniqueId, e, consumerVal.displayName)}\n        >\n          <CheckBoxOutlineBlankRoundedIcon className=\"check-product\" />\n        </IconButton>\n      </div>\n    )\n  }\n\n  getObjects = (obj, key, val) => {\n    var objects = [];\n    for (var i in obj) {\n      if (!obj.hasOwnProperty(i)) continue;\n      if (typeof obj[i] === 'object') {\n        objects = objects.concat(this.getObjects(obj[i], key, val));\n      } else\n        //if key matches and value matches or if key matches and value is not passed (eliminating the case where key matches but passed value does not)\n        if ((i === key && obj[i].toLocaleLowerCase().includes(val.toLocaleLowerCase())) || (i === key && val === '')) { //\n          objects.push(obj);\n        } else if (obj[i] === val && key === '') {\n          //only add if the object is not already in the array\n          if (objects.lastIndexOf(obj) === -1) {\n            objects.push(obj);\n          }\n        }\n    }\n    return objects;\n  }\n\n  handleProductBreadCrumbChange = (node) => {\n    if (node.breadcrumb) {\n      this.setState({ productBreadcrumb: node.breadcrumb })\n    }\n  };\n\n  findProductCategories = (e, term) => {\n    const SearchObject = (this.state.step === 0) ? this.props.home.regionDetails : this.props.home.merchDetails\n    if (e.target.value) {\n      this.setState({ productResult: this.getObjects(SearchObject, 'name', e.target.value) })\n    } else {\n      this.setState({ productResult: [] })\n    }\n  }\n\n  findProducts = (e, term) => {\n    if (e.target.value) {\n      this.setState({ productResult: this.getObjects(this.props.home.regionDetails, 'name', e.target.value) })\n    } else {\n      this.setState({ productResult: [] })\n    }\n  }\n\n  gotoSelectedProductBreadCrumb = (breadcrumb) => {\n    if (document.querySelector(`#${breadcrumb.id}`)) {\n      document.querySelector(`#${breadcrumb.id}`).scrollIntoView()\n    }\n  }\n\n  render() {\n\n    const classes = {}\n\n    const { expanded, productResult, step } = this.state;\n\n    const { home } = this.props\n\n    return (\n    <div className=\"sidebar-product\">\n      <div className=\"tab-block\">\n        <span className={(step === 0) ? \"active\" : ''} onClick={(e) => this.setState({ step: 0 })}>\n          Location\n        </span>\n        <span className={(step === 1) ? \"active\" : ''}>Merchandise</span>\n      </div>\n\n      <div>\n        {<>\n          <Input disableUnderline={true} placeholder=\"Search\" className={classes.inputTypeSearch} variant=\"outlined\" onChange={(e, term) => this.findProductCategories(e, term)}></Input>\n          <List component=\"div\" disablePadding className=\"search-result\">\n            {productResult.map((result, r_index) => {\n              return (\n                <div key={result.key}>\n                { result.displayName && <ListItem key={result.key} className={classes.nested}>\n                  <ListItemText primary={result.displayName} />\n                  <ListItemSecondaryAction>\n                    <IconButton\n                      edge=\"end\"\n                      aria-label=\"add\"\n                        onClick={(e) => (step === 0) ? this.handleOnSelection(result.uniqueId, e, result) : this.handleOnMerchSelection(result.uniqueId, e, result.displayName)}\n                    >\n                      <CheckBoxOutlineBlankRoundedIcon className=\"check-product\" />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem> }\n                </div>\n              )\n            })}\n          </List>\n        </>}\n\n        <div className=\"breadcrumb-result\">\n          {\n            this.state.productBreadcrumb.map((breadcrumb) => {\n              return (<div className=\"result-val\" key={breadcrumb.id} onClick={(e) => this.gotoSelectedProductBreadCrumb(breadcrumb)}>\n                {breadcrumb.name}\n              </div>)\n            })\n          }\n        </div>\n\n        <List className=\"merchandise-list\" component=\"div\" disablePadding>\n          {(step === 0) && <TreeView\n            className={classes.cat_root}\n            defaultCollapseIcon={<RemoveCircleRoundedIcon />}\n            defaultExpandIcon={<AddCircleIcon/>}\n            expanded={expanded}\n            onNodeToggle={this.handleChange}\n          >\n            {home.regionDetails.region && home.regionDetails.region.map((region, b_index) => {\n              return (\n                <TreeItem onClick={(e) => this.handleProductBreadCrumbChange(region, e)} id={region.nodeId} key={region.nodeId} nodeId={region.nodeId} label={this.treeViewLabel(region)}>\n                  {region.affiliate.map((affiliate, p_index) => {\n                    return (\n                      <TreeItem onClick={(e) => this.handleProductBreadCrumbChange(affiliate, e)} id={affiliate.nodeId} key={affiliate.nodeId} nodeId={affiliate.nodeId} label={this.treeViewLabel(affiliate)}>\n                        {affiliate.channels.map((channel, sc_index) => {\n                          return (\n                            <TreeItem onClick={(e) => this.handleProductBreadCrumbChange(channel, e)} id={channel.nodeId} key={channel.nodeId} nodeId={channel.nodeId} label={this.treeViewLabel(channel)}>\n                              {channel.planning_groups.map((planning_group, pr_index) => {\n                                return (<TreeItem onClick={(e) => this.handleProductBreadCrumbChange(planning_group, e)} id={planning_group.nodeId} key={planning_group.nodeId} nodeId={planning_group.nodeId} label={this.treeViewLabel(planning_group)}>\n                                </TreeItem>)\n                              })}\n                            </TreeItem>\n                          )\n                        })}\n                      </TreeItem>\n                    )\n                  })}\n                </TreeItem>\n              )\n            })}\n          </TreeView>}\n          {(step === 1) && <div>\n            <TreeView\n              className={classes.cat_root}\n              defaultCollapseIcon={<RemoveCircleRoundedIcon />}\n              defaultExpandIcon={<AddCircleIcon />}\n              expanded={expanded}\n              onNodeToggle={this.handleChange}\n            >\n              {home.merchDetails.Brand && home.merchDetails.Brand.map((brandVal, b_index) => {\n                return (\n                  <TreeItem id={brandVal.nodeId} onClick={(e) => this.handleProductBreadCrumbChange(brandVal, e)} nodeId={brandVal.nodeId} key={brandVal.nodeId} label={this.treeViewMerchLabel(brandVal)}>\n                    {brandVal.Consumer.map((consumerVal, p_index) => {\n                      return (\n                        <TreeItem id={consumerVal.nodeId} onClick={(e) => this.handleProductBreadCrumbChange(consumerVal, e)} nodeId={consumerVal.nodeId} key={consumerVal.nodeId} label={this.treeViewMerchLabel(consumerVal)}>\n                          {consumerVal.Category.map((categoryVal, sc_index) => {\n                            return (\n                              <TreeItem id={categoryVal.nodeId} onClick={(e) => this.handleProductBreadCrumbChange(categoryVal, e)} nodeId={categoryVal.nodeId} key={categoryVal.nodeId} label={this.treeViewMerchLabel(categoryVal)}>\n                              </TreeItem>\n                            )\n                          })}\n                        </TreeItem>\n                      )\n                    })}\n                  </TreeItem>\n                )\n              })}\n            </TreeView>\n          </div>\n          }\n        </List>\n      </div>\n    </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    home: state.home\n  }\n}\n\nexport default connect(mapStateToProps, { getMerchData, addProduct, showFlashMessage })(AssortmentBrowser);\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n}\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport AssortmentBrowser from \"./dialogs/AssortmentBrowser.js\"\nimport { AddCircle as AddCircleIcon } from \"@material-ui/icons\"\nimport { Button } from \"@material-ui/core\"\nimport { showAssortBrowser, hideAssortBrowser } from 'actions/home'\n\nclass AssortmentHandler extends Component {\n  render() {\n\n    const { home, showAssortBrowser, hideAssortBrowser} = this.props\n\n    return (\n      <div className=\"\">\n        <div>\n          <Button\n            onClick={() => showAssortBrowser()}\n            variant=\"contained\"\n            color=\"primary\"\n            className=\"add-product nowrap\"\n          >\n            <AddCircleIcon className=\"icon\" />\n            Add Merchandise & Location Views\n          </Button>\n        </div>\n\n      <AssortmentBrowser\n          open={home.assortmentDialogOpen}\n          onClose={() => hideAssortBrowser()}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    home: state.home\n  }\n}\n\nexport default connect(mapStateToProps, { hideAssortBrowser, showAssortBrowser })(AssortmentHandler);\n\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Button } from \"@material-ui/core\"\nimport { CSVLink } from \"react-csv\";\nimport { getWeekName } from 'utils/getTimeLineHelper'\nimport { getDataKey } from 'utils/map_filter_type_display'\nimport { assortmentNameJSON } from 'utils/assortmentName'\nimport { displayVariance } from 'utils/getVariance'\n\nclass CSVGenerator extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      data: []\n    }\n  }\n\n  splitData(product) {\n    return product[getDataKey()]\n      .filter((pr) => pr.date >= this.props.graph.graphDomain[0] && pr.date <= this.props.graph.graphDomain[1])\n      .sort((pr1, pr2) => { return pr1.g_index - pr2.g_index })\n\n  }\n\n  getKPI(datum) {\n    return datum ? datum.KPI : 0\n  }\n\n  showKPIName(kpi, productKey) {\n    kpi['Region'] = assortmentNameJSON(productKey).region\n    kpi['Affiliate'] = assortmentNameJSON(productKey).affiliate\n    kpi['Channel'] = assortmentNameJSON(productKey).channel\n    kpi['Planning Group'] = assortmentNameJSON(productKey).planning_group_name\n    kpi['Brand'] = assortmentNameJSON(productKey).brand\n    kpi['Consumer'] = assortmentNameJSON(productKey).consumer\n    kpi['Category'] = assortmentNameJSON(productKey).category\n  }\n\n  setData(event, done) {\n    var finalData = []\n\n    var sell_out_units = {}\n    var sell_out_units_ly = {}\n    var sell_out_units_ly_var = {}\n    var sell_out_units_sas = {}\n    var sell_out_units_sas_var = {}\n    var demand_units = {}\n    var demand_units_ly = {}\n    var demand_units_ly_var = {}\n    var demand_units_sas = {}\n    var demand_units_sas_var = {}\n    var shipments = {}\n\n    Object.keys(this.props.product.products).forEach((productKey) => {\n      this.showKPIName(sell_out_units, productKey)\n      this.showKPIName(sell_out_units_ly, productKey)\n      this.showKPIName(sell_out_units_sas, productKey)\n      this.showKPIName(demand_units, productKey)\n      this.showKPIName(demand_units_ly, productKey)\n      this.showKPIName(demand_units_sas, productKey)\n      this.showKPIName(shipments, productKey)\n      this.showKPIName(sell_out_units_ly_var, productKey)\n      this.showKPIName(sell_out_units_sas_var, productKey)\n      this.showKPIName(demand_units_ly_var, productKey)\n      this.showKPIName(demand_units_sas_var, productKey)\n\n      sell_out_units['KPI'] = 'Sell-Out Units'\n      sell_out_units_ly['KPI'] = 'Sell-Out Units LY'\n      sell_out_units_sas['KPI'] = 'Sell-Out Units Plan'\n      demand_units['KPI'] = 'Demand'\n      demand_units_ly['KPI'] = 'Demand LY'\n      demand_units_sas['KPI'] = 'Demand Plan'\n      shipments['KPI'] = 'Shipped Units'\n      sell_out_units_ly_var['KPI'] = '%Variance'\n      sell_out_units_sas_var['KPI'] = '%Variance'\n      demand_units_ly_var['KPI'] = '%Variance'\n      demand_units_sas_var['KPI'] = '%Variance'\n\n      this.splitData(this.props.product.products[productKey]).forEach(data => {\n        const key = getWeekName(data.g_index)\n        sell_out_units[key] = this.getKPI(data.sell_out_units_ytg) || this.getKPI(data.sell_out_units_ytd)\n        sell_out_units_ly[key] = this.getKPI(data.sell_out_units_ly)\n        sell_out_units_ly_var[key] = displayVariance(sell_out_units[key], sell_out_units_ly[key]) + '%'\n        sell_out_units_sas[key] = this.getKPI(data.sell_out_units_sas)\n        sell_out_units_sas_var[key] = displayVariance(sell_out_units[key], sell_out_units_sas[key]) + '%'\n\n        demand_units[key] = this.getKPI(data.demand_units_ytg) || this.getKPI(data.demand_units_ytd)\n        demand_units_ly[key] = this.getKPI(data.demand_units_ly)\n        demand_units_ly_var[key] = displayVariance(demand_units[key], demand_units_ly[key]) + '%'\n        demand_units_sas[key] = this.getKPI(data.demand_units_sas)\n        demand_units_sas_var[key] = displayVariance(demand_units[key], demand_units_sas[key]) + '%'\n\n        shipments[key] = this.getKPI(data.shipments)\n      })\n\n      // sell_out_units['1'] = assortmentNameJSON(productKey)\n      // sell_out_units_ly['1'] = assortmentNameJSON(productKey)\n      // sell_out_units_sas['1'] = assortmentNameJSON(productKey)\n      // demand_units['1'] = assortmentNameJSON(productKey)\n      // demand_units_ly['1'] = assortmentNameJSON(productKey)\n      // demand_units_sas['1'] = assortmentNameJSON(productKey)\n      // shipments['1'] = assortmentNameJSON(productKey)\n      // sell_out_units_ly_var['1'] = assortmentNameJSON(productKey)\n      // sell_out_units_sas_var['1'] = assortmentNameJSON(productKey)\n      // demand_units_ly_var['1'] = assortmentNameJSON(productKey)\n      // demand_units_sas_var['1'] = assortmentNameJSON(productKey)\n      finalData.push(\n        { ...sell_out_units },\n        { ...sell_out_units_ly },\n        { ...sell_out_units_ly_var },\n        { ...sell_out_units_sas },\n        { ...sell_out_units_sas_var },\n        { ...demand_units },\n        { ...demand_units_ly },\n        { ...demand_units_ly_var },\n        { ...demand_units_sas },\n        { ...demand_units_sas_var },\n        { ...shipments }\n      )\n    })\n    this.setState({ data: finalData }, () => {\n      done(true)\n    })\n  }\n\n  render() {\n\n    const products = this.props.product.products\n\n    return (\n      <>\n        {products && Object.keys(products).length > 0 &&\n        <CSVLink\n          data={this.state.data}\n          asyncOnClick={true}\n          onClick={(event, done) => this.setData(event, done)}\n          className=\"text-transparent export-csv\"\n          filename={'csv-data.csv'}>\n          <Button color=\"primary\" className=\"send-button\">\n          </Button>\n        </CSVLink>}\n        {(products && !Object.keys(products).length) &&\n          <a class=\"text-transparent export-csv\">\n            <Button color=\"primary\" className=\"send-button\">\n            </Button>\n          </a>\n        }\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    product: state.product,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, {})(CSVGenerator);\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Radio } from \"@material-ui/core\"\nimport { Error as ErrorIcon } from '@material-ui/icons';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { GraphHelper } from 'utils/graphHelper';\nimport getCurrentWeek from 'utils/getCurrentWeek'\nimport { showAssortmentAlerts, showAssortmentVariables, handleSelectedProductChange, removeAssortment } from 'actions/graph'\nimport { getGranularity, getDataKey } from 'utils/map_filter_type_display'\nimport { GetYearIndex, GetMonthIndex } from 'utils/getYearIndex'\nimport moment from 'moment'\nimport { alertList } from 'utils/alertList'\nimport { showFlashMessage } from 'actions/home';\nimport { assortmentName } from 'utils/assortmentName'\nimport HRNumbers from 'human-readable-numbers'\nimport { datumForTime } from 'utils/datumForTime'\n\nimport {\n  CartesianGrid,\n  Line,\n  Scatter,\n  ComposedChart,\n  ResponsiveContainer,\n  Tooltip as ReTooltip,\n  XAxis,\n  YAxis,\n  ReferenceLine\n} from \"recharts\"\n\n\nclass GraphLine extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      chartTheme: {\n        paddingV: 10,\n        paddingH: 40,\n        colorRef: \"#f6617b\",\n        strokeWidth: 2\n      }\n    }\n  }\n\n  currentTestStartOfMonthDate() {\n    var date = new Date()\n    if ((this.props.graph.filterPeriod === 'year') || (this.props.graph.filterPeriod === 'season')) {\n      date.setDate(1)\n    }\n    date.setHours(0, 0, 0, 0)\n    return date\n  }\n\n  handleAssortmentChartClick = (data, assortmentKey) => {\n    if (!data) return\n\n    // if (data.activeLabel <= Number(getCurrentWeek())) return\n\n    if (!(this.props.graph.kpis.sell_out_units.selected || this.props.graph.kpis.demand_units.selected)) return\n\n    this.props.showAssortmentVariables(assortmentKey, data.activeTooltipIndex)\n  }\n\n  currentTestStartOfMonthTime() {\n    return this.currentTestStartOfMonthDate().getTime()\n  }\n\n  addAssortmentInformation(assortment, assortmentKey, html) {\n    if (alertList(assortment) && alertList(assortment).length > 0) {\n      return (\n        this.props.graph.showAlert ? (\n          <div className=\"details notsimple\">\n            {html}\n          </div>\n        ) : (<div className=\"details simple\">\n          {html}\n        </div>)\n      )\n    }\n\n    return <div className=\"details\">{html}</div>\n  }\n\n  removeAssortment(assortmentKey) {\n    this.props.removeAssortment(assortmentKey)\n    this.props.showFlashMessage('Assortment successfully removed', 'success')\n  }\n\n  handleAssortmentDetailClick(assortmentKey) {\n    if (this.props.graph.showAlert) {\n      this.props.showAssortmentAlerts(assortmentKey)\n    }\n  }\n\n  CustomTooltip = ({ active, payload, label }) => {\n    const { kpis } = this.props.graph\n    if (active && payload && payload[0] && payload[0].payload) {\n      const data = payload[0].payload\n      return (\n        <div className=\"custom-tooltip\">\n          <p className=\"label\">{`${this.displayTimeName(label, data)}`}</p>\n          {kpis.sell_out_units.selected && <p className=\"label\">{`${kpis.sell_out_units.name}: ${this.addData(data.sell_out_units_ytd && data.sell_out_units_ytd.KPI, data.sell_out_units_ytg && data.sell_out_units_ytg.KPI)}`}</p>}\n          {kpis.sell_out_units_ly.selected && <p className=\"label\">{`${kpis.sell_out_units_ly.name}: ${this.addData(data.sell_out_units_ly && data.sell_out_units_ly.KPI)}`}</p>}\n          {kpis.sell_out_units_sas.selected && <p className=\"label\">{`${kpis.sell_out_units_sas.name}: ${this.addData(data.sell_out_units_sas && data.sell_out_units_sas.KPI)}`}</p>}\n          {kpis.demand_units.selected && <p className=\"label\">{`${kpis.demand_units.name}: ${this.addData(data.demand_units_ytd && data.demand_units_ytd.KPI, data.demand_units_ytg && data.demand_units_ytg.KPI)}`}</p>}\n          {kpis.demand_units_ly.selected && <p className=\"label\">{`${kpis.demand_units_ly.name}: ${this.addData(data.demand_units_ly && data.demand_units_ly.KPI)}`}</p>}\n          {kpis.demand_units_sas.selected && <p className=\"label\">{`${kpis.demand_units_sas.name}: ${this.addData(data.demand_units_sas && data.demand_units_sas.KPI)}`}</p>}\n          {kpis.shipment.selected && <p className=\"label\">{`${kpis.shipment.name}: ${this.addData(data.shipments && data.shipments.KPI)}`}</p>}\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  addData(metric1, metric2) {\n    return Number((Number(metric1) || 0) || (Number(metric2) || 0)).toLocaleString()\n  }\n\n  graphCenter() {\n    return parseInt((this.props.graph.graphDomain[1] - this.props.graph.graphDomain[0]) / 2)\n  }\n\n  getMaxWeek(dataMax) {\n    if (getGranularity() === 'weekly') {\n      return this.props.graph.graphDomain[1] - GetYearIndex(this.props.graph.graphDomain[1].slice(0, 4))\n    } else {\n      return this.props.graph.graphDomain[1] - GetMonthIndex(this.props.graph.graphDomain[1].slice(0, 4))\n    }\n  }\n\n  getMinWeek(dataMin) {\n    if (getGranularity() === 'weekly') {\n      return this.props.graph.graphDomain[0] - GetYearIndex(this.props.graph.graphDomain[0].slice(0, 4))\n    } else {\n      return this.props.graph.graphDomain[0] - GetMonthIndex(this.props.graph.graphDomain[0].slice(0, 4))\n    }\n  }\n\n  displayTimeName(val, data) {\n    if (getGranularity() === 'weekly') {\n      return 'FW' + String(datumForTime(data).fisc_week).slice(4, 6) + ' ' + String(datumForTime(data).fisc_week).slice(0, 4)\n    } else {\n      return datumForTime(data).fisc_month_name + ' ' + String(datumForTime(data).fisc_month).slice(0, 4)\n    }\n  }\n\n  getWeekName(val) {\n    if(val > 52) {\n      return `FW ${val - 52}`\n    }\n    return `FW ${val}`\n  }\n\n  getFullWeekName(val) {\n    if(val > 52) {\n      return `Fiscal Week ${val - 52}`\n    }\n    return `Fiscal Week ${val}`\n  }\n\n  getFullMonthName(val) {\n    var finalMonth = val\n    if(val > 12) {\n      finalMonth = val - 12\n    }\n    return 'Month: ' + moment(finalMonth, 'MM').format('MMM')\n  }\n\n  getGraphValue(datum, key) {\n    return datum[key] && datum[key]['KPI']\n  }\n\n  getTickCount() {\n    if (getGranularity() === 'weekly') {\n      return (this.props.graph.graphDomain[1] - GetYearIndex(this.props.graph.graphDomain[1].slice(0, 4))) - (this.props.graph.graphDomain[0] - GetYearIndex(this.props.graph.graphDomain[0].slice(0, 4)) - 1)\n    } else {\n      return (this.props.graph.graphDomain[1] - GetMonthIndex(this.props.graph.graphDomain[1].slice(0, 4))) - (this.props.graph.graphDomain[0] - GetMonthIndex(this.props.graph.graphDomain[0].slice(0, 4)) - 1)\n    }\n  }\n\n  render() {\n\n    const { assortment, assortmentKey } = this.props;\n    const { kpis, selectedProductId } = this.props.graph\n\n    return (<>\n      <li>\n        <div className=\"checkbox-graph d-flex flex-column align-center\">\n          <Radio\n            checked={selectedProductId === assortmentKey}\n            onChange={(event) => this.props.handleSelectedProductChange(event.target.value)}\n            value={assortmentKey}\n            inputProps={{ 'aria-label': 'A' }}\n            name=\"radio-button-product-kpi\"\n            label={'TEST ME'}\n            className=\"inputbox-icon\"\n            disableRipple\n          />\n\n          {this.props.graph.showAlert && alertList(assortment) && alertList(assortment).length > 0 && <ErrorIcon\n            className=\"icon info-icon pointer\"\n            onClick={() => this.handleAssortmentDetailClick(assortmentKey)}\n          />}\n        </div>\n        {this.addAssortmentInformation(\n          assortment,\n          assortmentKey,\n          <>\n            {/* <img\n              alt={assortment.detail.name}\n              src={`https://lsco.scene7.com/is/image/lsco/levis/clothing/${assortment.detail.image_id ||\n                assortment.detail.id}-front-pdp.jpg?$grid_desktop_bottoms$`}\n              onClick={() => this.handleAssortmentDetailClick(assortmentKey)}\n            /> */}\n            <div className=\"merchandise-val\"\n              onClick={() => this.handleAssortmentDetailClick(assortmentKey)}\n            >\n                {assortmentName(assortmentKey)}\n            </div>\n            <DeleteIcon fontSize=\"small\" onClick={() => this.removeAssortment(assortmentKey)}></DeleteIcon>\n          </>,\n        )}\n\n        <ResponsiveContainer className=\"graph\">\n          <ComposedChart\n            margin={{\n              top: 0,\n              bottom: 0,\n              right: -15,\n              left: this.state.chartTheme.paddingH,\n            }}\n            data={assortment[getDataKey()]}\n            onClick={data =>\n              this.handleAssortmentChartClick(data, assortmentKey)\n            }\n          >\n            <XAxis\n              dataKey=\"g_index\"\n              type=\"number\"\n              domain={[dataMin => { return this.getMinWeek(dataMin) }, dataMax => { return this.getMaxWeek(dataMax) }]}\n              tickFormatter={val => val}\n              tickCount={this.getTickCount()}\n              allowDataOverflow={true}\n              hide={true}\n            />\n\n            <ReTooltip content={(param) => this.CustomTooltip(param)} />\n            <YAxis\n              allowDataOverflow={false}\n              fontSize={'10px'}\n              padding={{\n                top: this.state.chartTheme.paddingV,\n                bottom: this.state.chartTheme.paddingV,\n              }}\n              tickFormatter={(val) => { return HRNumbers.toHumanString(val) }}\n              orientation=\"right\"\n            />\n            <CartesianGrid horizontal={false} />\n            <ReferenceLine\n              x={getCurrentWeek()}\n              stroke={this.state.chartTheme.colorRef}\n              strokeWidth={this.state.chartTheme.strokeWidth}\n            />\n            {/* GraphHelper['sell_out_units_ytd']['name'] */}\n            {kpis.sell_out_units.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['sell_out_units_ytd']['name'])}\n              stroke={GraphHelper['sell_out_units_ytd']['stroke']}\n              dot={false}\n              strokeWidth={GraphHelper['sell_out_units_ytd']['strokeWidth']}\n            />}\n            {kpis.sell_out_units.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['sell_out_units_ytg']['name'])}\n              stroke={GraphHelper['sell_out_units_ytg']['stroke']}\n              strokeWidth={GraphHelper['sell_out_units_ytg']['strokeWidth']}\n              dot={false}\n              strokeDasharray=\"5 5\"\n            />}\n            {kpis.sell_out_units_ly.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['sell_out_units_ly']['name'])}\n              stroke={GraphHelper['sell_out_units_ly']['stroke']}\n              dot={false}\n              strokeWidth={GraphHelper['sell_out_units_ly']['strokeWidth']}\n            />}\n            {kpis.sell_out_units_sas.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['sell_out_units_sas']['name'])}\n              stroke={GraphHelper['sell_out_units_sas']['stroke']}\n              strokeWidth={GraphHelper['sell_out_units_sas']['strokeWidth']}\n              dot={false}\n            />}\n            {kpis.sell_out_units.selected && <Scatter\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['sell_out_units_scatter']['name'])}\n              stroke={GraphHelper['sell_out_units_scatter']['stroke']}\n              strokeWidth={GraphHelper['sell_out_units_scatter']['strokeWidth']}\n              dot={false}\n            />}\n            {kpis.demand_units.selected && <Scatter\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['demand_units_scatter']['name'])}\n              stroke={GraphHelper['demand_units_scatter']['stroke']}\n              strokeWidth={GraphHelper['demand_units_scatter']['strokeWidth']}\n              dot={false}\n            />}\n            {kpis.demand_units.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['demand_units_ytd']['name'])}\n              stroke={GraphHelper['demand_units_ytd']['stroke']}\n              dot={false}\n              strokeWidth={GraphHelper['demand_units_ytd']['strokeWidth']}\n            />}\n            {kpis.demand_units.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['demand_units_ytg']['name'])}\n              stroke={GraphHelper['demand_units_ytg']['stroke']}\n              strokeWidth={GraphHelper['demand_units_ytg']['strokeWidth']}\n              dot={false}\n              strokeDasharray=\"5 5\"\n            />}\n            {kpis.demand_units_ly.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['demand_units_ly']['name'])}\n              stroke={GraphHelper['demand_units_ly']['stroke']}\n              dot={false}\n              strokeWidth={GraphHelper['demand_units_ly']['strokeWidth']}\n            />}\n            {kpis.demand_units_sas.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['demand_units_sas']['name'])}\n              stroke={GraphHelper['demand_units_sas']['stroke']}\n              strokeWidth={GraphHelper['demand_units_sas']['strokeWidth']}\n              dot={false}\n            />}\n            {kpis.shipment.selected && <Line\n              type=\"monotone\"\n              dataKey={(datum) => this.getGraphValue(datum, GraphHelper['shipments']['name'])}\n              stroke={GraphHelper['shipments']['stroke']}\n              dot={false}\n              strokeWidth={GraphHelper['shipments']['strokeWidth']}\n            />}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </li>\n    </>)\n  }\n}\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, { showAssortmentAlerts, showAssortmentVariables, handleSelectedProductChange, removeAssortment, showFlashMessage })(GraphLine);\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Typography } from \"@material-ui/core\"\nimport HRNumbers from 'human-readable-numbers'\nimport { getTimeRange } from 'utils/getTimeRange'\nimport MAP_FILTER_TYPE_DISPLAY from 'utils/map_filter_type_display'\nimport { displayABSVariance, varianceClass } from 'utils/getVariance'\nimport {\n  BarChart,\n  Bar\n} from \"recharts\"\n\nclass TimedData extends Component {\n  splitData() {\n    const isProductAvailable = (this.props.product && this.props.product.products[this.props.graph.selectedProductId])\n    if (isProductAvailable) {\n      const product = this.props.product.products[this.props.graph.selectedProductId][MAP_FILTER_TYPE_DISPLAY[this.props.graph.filterPeriod]['data']]\n      return product.filter((pr) => pr.date >= this.props.graph.graphDomain[0] && pr.date <= this.props.graph.graphDomain[1])\n    }\n    return [{}]\n  }\n\n  demand_units() {\n    var sum = 0;\n    this.splitData().forEach((data) => {\n      sum = Number(sum) + Number(((data.demand_units_ytg || data.demand_units_ytd) && (data.demand_units_ytg || data.demand_units_ytd).KPI) || 0)\n    })\n    return sum\n  }\n\n  demand_units_sas() {\n    var sum = 0;\n    this.splitData().forEach((data) => {\n      sum = Number(sum) + Number((data.demand_units_sas && data.demand_units_sas.KPI) || 0)\n    })\n    return sum\n  }\n\n  render() {\n\n    const { graph } = this.props;\n\n    return (\n      <ul className=\"kpis-section kpis-section-top\">\n        <li className=\"yearly paper sale-sec col-3\">\n          <Typography variant=\"h3\" className=\"text-center text-uppercase\">Item Plan Comparison</Typography>\n          <Typography variant=\"h4\" className=\"m-b-15-hard text-center\">{getTimeRange(graph.graphDomain, graph.filterPeriod)}</Typography>\n          <Typography variant=\"h4\" className=\"m-b-15-hard text-center\"></Typography>\n          <div className=\"flex-row relative\">\n            <BarChart barGap={121} barSize={50} width={258} height={170} data={[{ name: 'demand_pred', value: this.demand_units_sas(), demand_value: this.demand_units() }]}\n              margin={{ top: 5, right: 0, left: 20, bottom: 5 }}>\n              <Bar isAnimationActive={false} dataKey=\"demand_value\" fill=\"#79ade8\">\n                {/* <LabelList fontSize={'10px'} y={'135'} x={'53'} dataKey=\"demand_value\" position=\"bottom\" formatter={(val) => `${HRNumbers.toHumanString(val)} Demand Prediction`} /> */}\n              </Bar>\n              <Bar isAnimationActive={false} dataKey=\"value\" fill=\"#ea9191\">\n                {/* <LabelList fontSize={'10px'} y={'135'} x={'225'} dataKey=\"value\" position=\"bottom\" formatter={(val) => `${HRNumbers.toHumanString(val)} Demand Plan`} /> */}\n              </Bar>\n            </BarChart>\n            <div className=\"demand-label plan-label\">\n              {HRNumbers.toHumanString(this.demand_units())} <span>Demand Prediction</span>\n            </div>\n            <div className=\"demand-label pre-label\">\n              {HRNumbers.toHumanString(this.demand_units_sas())} <span>Demand Plan</span>\n            </div>\n            <div className=\"center-val variance-val\">\n              %variance\n              <br/>\n              <Typography className={varianceClass(this.demand_units(), this.demand_units_sas())}>\n                {displayABSVariance(this.demand_units(), this.demand_units_sas())}%\n              </Typography>\n            </div>\n          </div>\n        </li>\n      </ul>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    product: state.product,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, {})(TimedData);\n\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Typography, Tooltip } from \"@material-ui/core\"\nimport HRNumbers from 'human-readable-numbers'\nimport { getTimeRange } from 'utils/getTimeRange'\nimport MAP_FILTER_TYPE_DISPLAY from 'utils/map_filter_type_display'\nimport { displayABSVariance, varianceClass } from 'utils/getVariance'\n\nclass PDUData extends Component {\n\n  splitData() {\n    const isProductAvailable = (this.props.product && this.props.product.products[this.props.graph.selectedProductId])\n    if(isProductAvailable) {\n      const product = this.props.product.products[this.props.graph.selectedProductId][MAP_FILTER_TYPE_DISPLAY[this.props.graph.filterPeriod]['data']]\n      return product.filter((pr) => pr.date >= this.props.graph.graphDomain[0] && pr.date <= this.props.graph.graphDomain[1])\n    }\n    return [{}]\n  }\n\n  sell_out_units() {\n    var sum = 0;\n    this.splitData().forEach((data) => {\n      sum = Number(sum) + (Number((data.sell_out_units_ytg && data.sell_out_units_ytg.KPI) || 0) || Number((data.sell_out_units_ytd && data.sell_out_units_ytd.KPI) || 0))\n    })\n    return sum\n  }\n\n  sell_out_units_ly() {\n    var sum = 0;\n    this.splitData().forEach((data) => {\n      sum = Number(sum) + Number((data.sell_out_units_ly && data.sell_out_units_ly.KPI) || 0)\n    })\n    return sum\n  }\n\n  demand_units() {\n    var sum = 0;\n    this.splitData().forEach((data) => {\n      sum = Number(sum) + (Number((data.demand_units_ytg && data.demand_units_ytg.KPI) || 0) || Number((data.demand_units_ytd && data.demand_units_ytd.KPI) || 0))\n    })\n    return sum\n  }\n\n  demand_units_ly() {\n    var sum = 0;\n    this.splitData().forEach((data) => {\n      sum = Number(sum) + Number((data.demand_units_ly && data.demand_units_ly.KPI) || 0)\n    })\n    return sum\n  }\n\n  render() {\n\n    const { graph } = this.props;\n    const isProductAvailable = (this.props.product && this.props.product.products[this.props.graph.selectedProductId])\n\n    return (\n      <ul className=\"kpis-section kpis-section-top\">\n        <li className=\"yearly paper col-2 graph-right text-center\">\n          <Typography variant=\"h4\" className=\"m-b-0-hard text-center\">Trend Plot KPI Summary</Typography>\n          <Typography variant=\"h6\" className=\"text-center\">{getTimeRange(graph.graphDomain, graph.filterPeriod)}</Typography>\n          <ul className=\"body variance-val\">\n            <li>\n              <Typography variant=\"h5\">Sell-Out Units</Typography>\n              <Tooltip title={isProductAvailable ? 'Sum of YTD actuals + prediction for time selection (where available)' : 'Please select a product first' }>\n                <Typography>\n                  {HRNumbers.toHumanString(this.sell_out_units() || 0)}\n                </Typography>\n              </Tooltip>\n            </li>\n            <li>\n              <Typography variant=\"h5\">Demand</Typography>\n              <Tooltip title={isProductAvailable ? 'Sum of adjusted demand YTD actuals + PDU prediction for time selection' : 'Please select a product first' }>\n                <Typography>{HRNumbers.toHumanString(this.demand_units() || 0)}</Typography>\n              </Tooltip>\n            </li>\n            <li>\n              <Typography variant=\"h5\">Sell-Out Units LY</Typography>\n              <Tooltip title={isProductAvailable ? 'Sum of LY actuals for time selection (where available)' : 'Please select a product first' }>\n                <Typography className=\"value-p\">{HRNumbers.toHumanString(this.sell_out_units_ly() || 0)}</Typography>\n              </Tooltip>\n            </li>\n            <li>\n              <Typography variant=\"h5\">Demand LY</Typography>\n              <Tooltip title={isProductAvailable ? 'Sum of adjusted demand LY actuals for time selection' : 'Please select a product first' }>\n                <Typography className=\"value-p\">{HRNumbers.toHumanString(this.demand_units_ly() || 0)}</Typography>\n              </Tooltip>\n            </li>\n            <li>\n              <Typography variant=\"h5\">%Variance</Typography>\n              <Typography className={ varianceClass(this.sell_out_units(), this.sell_out_units_ly()) + \" value-p\" }>{displayABSVariance(this.sell_out_units(), this.sell_out_units_ly())}%</Typography>\n            </li>\n            <li>\n              <Typography variant=\"h5\">%Variance</Typography>\n              <Typography  className={ varianceClass(this.demand_units(), this.demand_units_ly()) + \" value-p\" }>{displayABSVariance(this.demand_units(), this.demand_units_ly())}%</Typography>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    product: state.product,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, {})(PDUData);\n\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Button } from \"@material-ui/core\"\n\nclass LocalstorageHelper extends Component {\n\n  downloadLocalStorage() {\n    const element = document.createElement(\"a\");\n    const file = new Blob([localStorage.getItem('persist:pr_app')], { type: 'text/plain' });\n    element.href = URL.createObjectURL(file);\n    element.download = \"demand_sensing_configuration.txt\";\n    document.body.appendChild(element); // Required for this to work in FireFox\n    element.click();\n  }\n\n  handleFileRead()  {\n    localStorage.setItem('persist:pr_app', this.result)\n    window.location.reload()\n  }\n\n  handleFileChosen(file) {\n    const fileReader = new FileReader()\n    fileReader.onloadend = this.handleFileRead\n    fileReader.readAsText(file)\n  }\n\n  render() {\n\n    return (\n      <>\n        <Button color=\"primary\" className=\"send-button\" onClick={() => this.downloadLocalStorage()}>\n          Download Session\n        </Button>\n        <label htmlFor=\"config-file\" className=\"upload-btn\">\n          Upload Session\n        </label>\n        <input className='hide' type=\"file\" id='config-file' onChange={e => { this.handleFileChosen(e.target.files[0]) }} />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    product: state.product,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, {})(LocalstorageHelper);\n\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\n\nimport {\n  Typography,\n  Button\n} from \"@material-ui/core\"\n\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport TimeRangeSelector from 'components/dashboard/assortmentHelper/timeRangeSelector'\nimport { getTimeRange } from 'utils/getTimeRange'\nimport MAP_FILTER_TYPE_DISPLAY from 'utils/map_filter_type_display'\nimport getCurrentWeek from 'utils/getCurrentWeek'\n\nimport AssortmentDetailsDialog from \"./dialogs/AssortmentDetailsDialog.js\"\nimport Timeline from \"./graph/Timeline.js\"\nimport GraphDetailsDialog from \"./dialogs/GraphDetailsDialog.js\"\nimport KPISelector from 'components/dashboard/graph/kpiSelector'\nimport AssortmentHandler from 'components/dashboard/assortmentHandler'\nimport CSVGenerator from 'components/dashboard/assortmentHelper/csvGenerator'\nimport \"./AssortmentList.scss\"\nimport { showFlashMessage } from 'actions/home';\nimport { gotoPreviousDate, gotoNextDate, gotoCurrentDate } from 'actions/graph'\nimport { loadData } from 'actions/loadGraphData'\nimport GraphLine from 'components/dashboard/graph/graphLine'\nimport TimedData from 'components/dashboard/kpis/timedData'\nimport PDUData from 'components/dashboard/kpis/pduData'\nimport LocalstorageHelper from 'components/dashboard/assortmentHelper/localstorageHelper.js'\n\n\nclass AssortmentList extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showLoader: true,\n      currentDate: new Date(),\n      checkNewSupply: true,\n      selectedAssortment: {},\n      graphDialogOpen: false,\n      selectedGraphIndex: 0,\n      detailsDialogOpen: false,\n      chartTheme: {\n        color1: \"#e8a369\",\n        color2: \"#4171c6\",\n        color3: \"#000000\",\n        color4: \"#CCCCCC\",\n        colorRef: \"#f6617b\",\n        strokeWidth: 2,\n        paddingV: 10,\n        paddingH: 40,\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.props.loadData()\n  }\n\n  UpdatedDemandDot = props => {\n    const { cx, cy, payload } = props\n    const size = 10\n\n    if (payload.demand !== payload.demand_original) {\n      return (\n        <svg\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n          width=\"10px\"\n          x={cx - size / 2}\n          y={cy - size / 2}\n          height=\"10px\">\n          <path\n            fill={this.state.chartTheme.color1}\n            d=\"M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z\"\n          />\n        </svg>\n      )\n    }\n\n    return null\n  }\n\n  UpdatedSupplyDot = props => {\n    const { cx, cy, payload } = props\n    const size = 10\n\n    if (payload.supply !== payload.supply_original) {\n      return (\n        <svg\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n          width=\"10px\"\n          x={cx - size / 2}\n          y={cy - size / 2}\n          height=\"10px\">\n          <path\n            fill={this.state.chartTheme.color2}\n            d=\"M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z\"\n          />\n        </svg>\n      )\n    }\n    return null\n  }\n\n  InformationDot = props => {\n    const { cx, cy, payload } = props\n\n    if (payload.demand >= payload.supply) {\n      return (\n        <svg height=\"210\" width=\"500\">\n          <line x1={cx} y1={cy} x2={cx} y2={cy - ((payload.demand - payload.supply) / 300000)} style={{ 'stroke': 'rgb(0,255,0)', 'strokeWidth': 2 }} />\n            Sorry, your browser does not support inline SVG.\n        </svg>\n      )\n    }\n\n    if (payload.supply !== payload.supply_original) {\n      return (\n        <svg\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n          width=\"10px\"\n          x={cx - 10 / 2}\n          y={cy - 10 / 2}\n          height=\"10px\">\n          <path\n            fill={this.state.chartTheme.color2}\n            d=\"M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z\"\n          />\n        </svg>\n      )\n    }\n\n    return null\n  }\n\n  render() {\n    const props = this.props;\n    const { graph } = props\n    const { products } = props.product\n\n    return (\n      <>\n        <div className=\"assortments-section\">\n          <div id='loader-image' className={'hide'}>\n            <img src=\"https://www.realestateonline.gr/themes/drupal8_zymphonies_theme/images/show_loader.gif\" alt=\"\" />\n          </div>\n          <div className=\"d-flex body\">\n            <div className=\"main\">\n              <div className=\"top\">\n                <div className=\"top-assortments\">\n                  <Typography variant=\"h3\">Demand Prediction {getTimeRange(graph.graphDomain, graph.filterPeriod)}</Typography>\n                  <span> Aligned to LS&Co. Fiscal Calendar </span>\n                </div>\n                <div className=\"date-filter-section\">\n                  <Button onClick={this.props.gotoPreviousDate}>\n                    <KeyboardArrowLeftIcon htmlColor={'#1844A9'}></KeyboardArrowLeftIcon>\n                  </Button>\n                  <Button onClick={this.props.gotoCurrentDate}>Time Scroll</Button>\n                  <Button onClick={this.props.gotoNextDate}>\n                    <ChevronRightIcon htmlColor={'#1844A9'}></ChevronRightIcon>\n                  </Button>\n\n                  <TimeRangeSelector></TimeRangeSelector>\n                </div>\n              </div>\n\n              <div className=\"add-export\">\n                <div className=\"d-flex align-start\">\n                  <CSVGenerator></CSVGenerator>\n                  <div className=\"paper graph-container\">\n                    <div className=\"show-alert\">\n                      <ul className=\"graph-header\">\n                        {Object.keys(products)[0] && <Timeline\n                        data={Object.values(products)[0][MAP_FILTER_TYPE_DISPLAY[graph.filterPeriod]['data']]}\n                        now={getCurrentWeek()}\n                        theme={{}}\n                        filterPeriod={graph.filterPeriod}\n                      />}\n                      </ul>\n                    </div>\n                    <ul className=\"hide-scroll graph-section\">\n                      {Object.keys(products).map((key, index) => {\n                        const assortment = products[key]\n                        return (\n                          <GraphLine key={key} assortmentKey={key} index={index} assortment={assortment} />\n                        )\n                      })}\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"bottom\">\n                  <div className=\"color-checkbox\">\n                    <KPISelector />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"sidebar flex-column\">\n              <PDUData />\n\n              <TimedData />\n\n              {/* Alert ex: No Alerts found */}\n              <AssortmentHandler />\n\n              <AssortmentDetailsDialog/>\n\n              <GraphDetailsDialog/>\n\n              <div className=\"button-section\">\n                <LocalstorageHelper></LocalstorageHelper>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    graph: state.graph,\n    product: state.product\n  }\n}\n\nexport default connect(mapStateToProps, { showFlashMessage, loadData, gotoPreviousDate, gotoNextDate, gotoCurrentDate })(AssortmentList);\n","import React from \"react\"\n\nimport GlobalData from 'components/dashboard/kpis/globalData'\nimport YearlyComparison from 'components/dashboard/kpis/yearlyComparison'\nimport RecommendedProducts from 'components/dashboard/dialogs/RecommendedProducts.js'\n\nimport Navbar from \"Navbar.js\"\nimport AssortmentList from \"./AssortmentList.js\"\nimport \"./Dashboard.scss\"\n\nexport default function Dashboard(props) {\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container dashboard\">\n\n        <div className=\"body\">\n          <div className=\"main-container\">\n            <ul className=\"kpis-section kpis-section-top\">\n              <li className=\"heading-sec\">\n                <img className=\"\" alt=\"home\" src=\"/images/heading.svg\" />\n              </li>\n              <GlobalData />\n              <YearlyComparison />\n            </ul>\n\n            <AssortmentList />\n            <RecommendedProducts />\n\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React, { Component } from \"react\"\n\nimport { Typography, Button } from \"@material-ui/core\"\nimport { AuthenticateUser } from 'actions/authentication/login'\nimport \"./Login.scss\"\nimport { connect } from 'react-redux';\nimport { showFlashMessage } from 'actions/home';\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { email: '', pwd: '' }\n  }\n\n  login() {\n    this.props.AuthenticateUser(this.state.email, this.state.pwd)\n  }\n\n  render() {\n\n    return (\n      <div className=\"login\">\n        <div className=\"hero-section\">\n          <img src=\"/images/logo-vertical.png\" alt='Levis' />\n        </div>\n        <div className=\"form-section\">\n          <form onSubmit={() => { this.login() }}>\n\n            <Typography variant=\"h1\">\n              Login\n            </Typography>\n\n            <div className=\"field-section\">\n              <label>Email</label>\n              <input\n                name=\"email\"\n                type=\"text\"\n                placeholder=\"Enter your email here\"\n                onKeyPress={(event) => { if (event.which === 13) { this.login()  } }}\n                onInput={(event) => { this.setState({ email: event.target.value }) }}\n              />\n            </div>\n\n            <div className=\"field-section\">\n              <label>Password</label>\n              <input\n                name=\"password\"\n                type=\"password\"\n                onKeyPress={(event) => { if (event.which === 13) { this.login() } }}\n                placeholder=\"Enter your password here\"\n                onInput={(event) => { this.setState({ pwd: event.target.value }) }}\n              />\n\n              <div>\n                {/* <Link href=\"\">Forgot your password?</Link> */}\n              </div>\n            </div>\n\n            <div className=\"button-section\">\n              <Button color=\"primary\" variant=\"contained\" onClick={() => { this.login() }}>\n                Login\n              </Button>\n\n              {/* <Button color=\"primary\">Sign up</Button> */}\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    auth: state.auth\n  }\n}\n\nexport default connect(mapStateToProps, { AuthenticateUser, showFlashMessage })(Login);\n","import React, { Component } from \"react\"\nimport { Route, Switch, BrowserRouter, Redirect } from \"react-router-dom\"\nimport Dashboard from \"components/dashboard/Dashboard\"\nimport Login from \"components/login/Login.js\"\nimport { connect } from 'react-redux';\nimport { showAssortBrowser } from 'actions/home';\n\nclass Router extends Component {\n\n  componentDidMount() {\n    if (!this.props.graph.savedProducts.length) {\n      this.props.showAssortBrowser()\n    }\n  }\n\n  render() {\n\n    const loggedIn = this.props.auth.loggedIn\n\n    return (\n      <BrowserRouter>\n        <Switch>\n          { !loggedIn && <Route path=\"/\" exact component={Login} /> }\n          {!loggedIn && <Redirect to=\"/\" exact from='/dashboard' />}\n          {loggedIn && <Redirect to=\"/dashboard\" exact from='/' /> }\n          { loggedIn && <Route path=\"/dashboard\" component={Dashboard} /> }\n        </Switch>\n      </BrowserRouter>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    auth: state.auth,\n    graph: state.graph\n  }\n}\n\nexport default connect(mapStateToProps, { showAssortBrowser })(Router);\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { Snackbar, IconButton } from \"@material-ui/core\";\nimport { Alert as MuiAlert } from \"@material-ui/lab\"\nimport { CloseRounded as CloseRoundedIcon } from \"@material-ui/icons\"\nimport { hideFlashMessage } from 'actions/home';\n\nclass FlashMessage extends Component {\n  render() {\n\n    const { alertOpen, alertMessage, severity } = this.props.shared.flash;\n\n    return (\n      <Snackbar\n        open={alertOpen}\n        autoHideDuration={2000}\n        onClose={() => this.props.hideFlashMessage()}\n      >\n        <MuiAlert\n          elevation={6}\n          variant=\"filled\"\n          action={\n            <IconButton color=\"inherit\" size=\"small\">\n              <CloseRoundedIcon />\n            </IconButton>\n          }\n          onClose={() => this.props.hideFlashMessage()}\n          severity={severity}\n        >\n          {alertMessage}\n        </MuiAlert>\n      </Snackbar>\n    )\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    shared: state.shared\n  }\n}\n\nexport default connect(mapStateToProps, { hideFlashMessage })(FlashMessage);\n","import React, { Component } from \"react\"\nimport { connect } from 'react-redux';\nimport { hideLoader } from 'actions/home';\nimport watch from 'redux-watch'\nimport { store } from 'utils/configureStore';\n\nclass Loader extends Component {\n\n  componentDidMount() {\n    let watchFilterPeriod = watch(store.getState, 'shared.showLoader')\n    store.subscribe(watchFilterPeriod((newVal, oldVal, objectPath) => {\n      if(newVal) {\n        document.querySelector('body').classList.add('loader-body')\n      } else {\n        document.querySelector('body').classList.remove('loader-body')\n      }\n    }))\n  }\n\n  render() {\n    return (<></>)\n  }\n}\n\nconst mapStateToProps = (state, _ownProps) => {\n  return {\n    shared: state.shared\n  }\n}\n\nexport default connect(mapStateToProps, { hideLoader })(Loader);\n","import React from \"react\"\n\nimport \"mapbox-gl/dist/mapbox-gl.css\"\n\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/es/integration/react'\nimport Router from './components/route'\nimport FlashMessage from 'components/shared/flash'\nimport \"./App.scss\"\nimport { persistor, store } from './utils/configureStore';\nimport Loader from 'components/shared/loader'\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\"\n\n\nexport default function App() {\n  const theme = createMuiTheme({\n    typography: {\n      fontFamily: [\"Roboto\", \"sans-serif\"].join(\",\"),\n      h1: {\n        fontSize: 34,\n        fontWeight: 600,\n        lineHeight: 1.21,\n      },\n      h2: {\n        fontSize: 26,\n        fontWeight: \"normal\",\n        lineHeight: 0.77,\n      },\n      h3: {\n        fontSize: 16,\n        fontWeight: 600,\n        lineHeight: 1,\n      },\n      h4: {\n        fontSize: 20,\n        fontWeight: 600,\n      }\n    },\n  })\n\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <ThemeProvider theme={theme}>\n          <Router></Router>\n          <FlashMessage />\n          <Loader />\n        </ThemeProvider>\n      </PersistGate>\n    </Provider>\n  )\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}